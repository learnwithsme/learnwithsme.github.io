"use strict";(self.webpackChunksme_dlsu=self.webpackChunksme_dlsu||[]).push([[3317],{2162:function(t,e,n){var r=n(6540),o=n(9888);var i="function"==typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t==1/e)||t!=t&&e!=e},a=o.useSyncExternalStore,s=r.useRef,u=r.useEffect,c=r.useMemo,l=r.useDebugValue;e.useSyncExternalStoreWithSelector=function(t,e,n,r,o){var d=s(null);if(null===d.current){var h={hasValue:!1,value:null};d.current=h}else h=d.current;d=c((function(){function t(t){if(!u){if(u=!0,a=t,t=r(t),void 0!==o&&h.hasValue){var e=h.value;if(o(e,t))return s=e}return s=t}if(e=s,i(a,t))return e;var n=r(t);return void 0!==o&&o(e,n)?(a=t,e):(a=t,s=n)}var a,s,u=!1,c=void 0===n?null:n;return[function(){return t(e())},null===c?void 0:function(){return t(c())}]}),[e,n,r,o]);var f=a(t,d[0],d[1]);return u((function(){h.hasValue=!0,h.value=f}),[f]),l(f),f}},2275:function(t,e,n){n.d(e,{Do:function(){return rr},WZ:function(){return Jn},TG:function(){return or},ny:function(){return tr},yX:function(){return ir},xN:function(){return Qo},Qc:function(){return er},I$:function(){return Io},aQ:function(){return Oo},di:function(){return Ro},kO:function(){return Uo},ET:function(){return ai},rN:function(){return so},bi:function(){return No},_s:function(){return Xr},aE:function(){return vr},Hm:function(){return xo},KE:function(){return kr},tn:function(){return Qn},xc:function(){return Kn},us:function(){return Rr},Pr:function(){return yr},e_:function(){return Jr},Fp:function(){return no},Mi:function(){return Ar},HF:function(){return sr},Eo:function(){return qr},b5:function(){return mo},Tq:function(){return Mr},qX:function(){return oo},q1:function(){return Ur},YV:function(){return gr},oj:function(){return jr},aZ:function(){return fr},aW:function(){return Mo},uD:function(){return $r},Jo:function(){return hr},U$:function(){return pr},X6:function(){return Pr},oN:function(){return fo},ah:function(){return uo},R4:function(){return zr},r8:function(){return Fo},ZO:function(){return Un},bK:function(){return nr},b$:function(){return ur},uj:function(){return io},v5:function(){return Wr},Ue:function(){return Gr},Er:function(){return Kr},oB:function(){return cr},kf:function(){return Tr},mW:function(){return Br},QE:function(){return Or},kM:function(){return Fr},No:function(){return Ao},Ff:function(){return Ir},zj:function(){return Dr},s_:function(){return Yr},vS:function(){return _o},qn:function(){return Bo},uL:function(){return Lo}});var r={value:()=>{}};function o(){for(var t,e=0,n=arguments.length,r={};e<n;++e){if(!(t=arguments[e]+"")||t in r||/[\s.]/.test(t))throw new Error("illegal type: "+t);r[t]=[]}return new i(r)}function i(t){this._=t}function a(t,e){for(var n,r=0,o=t.length;r<o;++r)if((n=t[r]).name===e)return n.value}function s(t,e,n){for(var o=0,i=t.length;o<i;++o)if(t[o].name===e){t[o]=r,t=t.slice(0,o).concat(t.slice(o+1));break}return null!=n&&t.push({name:e,value:n}),t}i.prototype=o.prototype={constructor:i,on:function(t,e){var n,r,o=this._,i=(r=o,(t+"").trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");if(n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),t&&!r.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:e}}))),u=-1,c=i.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++u<c;)if(n=(t=i[u]).type)o[n]=s(o[n],t.name,e);else if(null==e)for(n in o)o[n]=s(o[n],t.name,null);return this}for(;++u<c;)if((n=(t=i[u]).type)&&(n=a(o[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new i(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,r,o=new Array(n),i=0;i<n;++i)o[i]=arguments[i+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(i=0,n=(r=this._[t]).length;i<n;++i)r[i].value.apply(e,o)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],o=0,i=r.length;o<i;++o)r[o].value.apply(e,n)}};var u=o;function c(){}function l(t){return null==t?c:function(){return this.querySelector(t)}}function d(){return[]}function h(t){return null==t?d:function(){return this.querySelectorAll(t)}}function f(t){return function(){return null==(e=t.apply(this,arguments))?[]:Array.isArray(e)?e:Array.from(e);var e}}function p(t){return function(){return this.matches(t)}}function m(t){return function(e){return e.matches(t)}}var g=Array.prototype.find;function y(){return this.firstElementChild}var v=Array.prototype.filter;function M(){return Array.from(this.children)}function x(t){return new Array(t.length)}function w(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}function E(t,e,n,r,o,i){for(var a,s=0,u=e.length,c=i.length;s<c;++s)(a=e[s])?(a.__data__=i[s],r[s]=a):n[s]=new w(t,i[s]);for(;s<u;++s)(a=e[s])&&(o[s]=a)}function b(t,e,n,r,o,i,a){var s,u,c,l=new Map,d=e.length,h=i.length,f=new Array(d);for(s=0;s<d;++s)(u=e[s])&&(f[s]=c=a.call(u,u.__data__,s,e)+"",l.has(c)?o[s]=u:l.set(c,u));for(s=0;s<h;++s)c=a.call(t,i[s],s,i)+"",(u=l.get(c))?(r[s]=u,u.__data__=i[s],l.delete(c)):n[s]=new w(t,i[s]);for(s=0;s<d;++s)(u=e[s])&&l.get(f[s])===u&&(o[s]=u)}function _(t){return t.__data__}function N(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}function C(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}w.prototype={constructor:w,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var S="http://www.w3.org/1999/xhtml",F={svg:"http://www.w3.org/2000/svg",xhtml:S,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function L(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),F.hasOwnProperty(e)?{space:F[e],local:t}:t}function A(t){return function(){this.removeAttribute(t)}}function P(t){return function(){this.removeAttributeNS(t.space,t.local)}}function B(t,e){return function(){this.setAttribute(t,e)}}function T(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function k(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function Y(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function I(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function D(t){return function(){this.style.removeProperty(t)}}function z(t,e,n){return function(){this.style.setProperty(t,e,n)}}function G(t,e,n){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function H(t,e){return t.style.getPropertyValue(e)||I(t).getComputedStyle(t,null).getPropertyValue(e)}function $(t){return function(){delete this[t]}}function O(t,e){return function(){this[t]=e}}function R(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function X(t){return t.trim().split(/^|\s+/)}function V(t){return t.classList||new q(t)}function q(t){this._node=t,this._names=X(t.getAttribute("class")||"")}function j(t,e){for(var n=V(t),r=-1,o=e.length;++r<o;)n.add(e[r])}function Z(t,e){for(var n=V(t),r=-1,o=e.length;++r<o;)n.remove(e[r])}function W(t){return function(){j(this,t)}}function K(t){return function(){Z(this,t)}}function U(t,e){return function(){(e.apply(this,arguments)?j:Z)(this,t)}}function Q(){this.textContent=""}function J(t){return function(){this.textContent=t}}function tt(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function et(){this.innerHTML=""}function nt(t){return function(){this.innerHTML=t}}function rt(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function ot(){this.nextSibling&&this.parentNode.appendChild(this)}function it(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function at(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===S&&e.documentElement.namespaceURI===S?e.createElement(t):e.createElementNS(n,t)}}function st(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function ut(t){var e=L(t);return(e.local?st:at)(e)}function ct(){return null}function lt(){var t=this.parentNode;t&&t.removeChild(this)}function dt(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function ht(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function ft(t){return function(){var e=this.__on;if(e){for(var n,r=0,o=-1,i=e.length;r<i;++r)n=e[r],t.type&&n.type!==t.type||n.name!==t.name?e[++o]=n:this.removeEventListener(n.type,n.listener,n.options);++o?e.length=o:delete this.__on}}}function pt(t,e,n){return function(){var r,o=this.__on,i=function(t){return function(e){t.call(this,e,this.__data__)}}(e);if(o)for(var a=0,s=o.length;a<s;++a)if((r=o[a]).type===t.type&&r.name===t.name)return this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=i,r.options=n),void(r.value=e);this.addEventListener(t.type,i,n),r={type:t.type,name:t.name,value:e,listener:i,options:n},o?o.push(r):this.__on=[r]}}function mt(t,e,n){var r=I(t),o=r.CustomEvent;"function"==typeof o?o=new o(e,n):(o=r.document.createEvent("Event"),n?(o.initEvent(e,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(e,!1,!1)),t.dispatchEvent(o)}function gt(t,e){return function(){return mt(this,t,e)}}function yt(t,e){return function(){return mt(this,t,e.apply(this,arguments))}}q.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var vt=[null];function Mt(t,e){this._groups=t,this._parents=e}function xt(){return new Mt([[document.documentElement]],vt)}Mt.prototype=xt.prototype={constructor:Mt,select:function(t){"function"!=typeof t&&(t=l(t));for(var e=this._groups,n=e.length,r=new Array(n),o=0;o<n;++o)for(var i,a,s=e[o],u=s.length,c=r[o]=new Array(u),d=0;d<u;++d)(i=s[d])&&(a=t.call(i,i.__data__,d,s))&&("__data__"in i&&(a.__data__=i.__data__),c[d]=a);return new Mt(r,this._parents)},selectAll:function(t){t="function"==typeof t?f(t):h(t);for(var e=this._groups,n=e.length,r=[],o=[],i=0;i<n;++i)for(var a,s=e[i],u=s.length,c=0;c<u;++c)(a=s[c])&&(r.push(t.call(a,a.__data__,c,s)),o.push(a));return new Mt(r,o)},selectChild:function(t){return this.select(null==t?y:function(t){return function(){return g.call(this.children,t)}}("function"==typeof t?t:m(t)))},selectChildren:function(t){return this.selectAll(null==t?M:function(t){return function(){return v.call(this.children,t)}}("function"==typeof t?t:m(t)))},filter:function(t){"function"!=typeof t&&(t=p(t));for(var e=this._groups,n=e.length,r=new Array(n),o=0;o<n;++o)for(var i,a=e[o],s=a.length,u=r[o]=[],c=0;c<s;++c)(i=a[c])&&t.call(i,i.__data__,c,a)&&u.push(i);return new Mt(r,this._parents)},data:function(t,e){if(!arguments.length)return Array.from(this,_);var n,r=e?b:E,o=this._parents,i=this._groups;"function"!=typeof t&&(n=t,t=function(){return n});for(var a=i.length,s=new Array(a),u=new Array(a),c=new Array(a),l=0;l<a;++l){var d=o[l],h=i[l],f=h.length,p=N(t.call(d,d&&d.__data__,l,o)),m=p.length,g=u[l]=new Array(m),y=s[l]=new Array(m);r(d,h,g,y,c[l]=new Array(f),p,e);for(var v,M,x=0,w=0;x<m;++x)if(v=g[x]){for(x>=w&&(w=x+1);!(M=y[w])&&++w<m;);v._next=M||null}}return(s=new Mt(s,o))._enter=u,s._exit=c,s},enter:function(){return new Mt(this._enter||this._groups.map(x),this._parents)},exit:function(){return new Mt(this._exit||this._groups.map(x),this._parents)},join:function(t,e,n){var r=this.enter(),o=this,i=this.exit();return"function"==typeof t?(r=t(r))&&(r=r.selection()):r=r.append(t+""),null!=e&&(o=e(o))&&(o=o.selection()),null==n?i.remove():n(i),r&&o?r.merge(o).order():o},merge:function(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,o=n.length,i=r.length,a=Math.min(o,i),s=new Array(o),u=0;u<a;++u)for(var c,l=n[u],d=r[u],h=l.length,f=s[u]=new Array(h),p=0;p<h;++p)(c=l[p]||d[p])&&(f[p]=c);for(;u<o;++u)s[u]=n[u];return new Mt(s,this._parents)},selection:function(){return this},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,o=t[e],i=o.length-1,a=o[i];--i>=0;)(r=o[i])&&(a&&4^r.compareDocumentPosition(a)&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=C);for(var n=this._groups,r=n.length,o=new Array(r),i=0;i<r;++i){for(var a,s=n[i],u=s.length,c=o[i]=new Array(u),l=0;l<u;++l)(a=s[l])&&(c[l]=a);c.sort(e)}return new Mt(o,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],o=0,i=r.length;o<i;++o){var a=r[o];if(a)return a}return null},size:function(){let t=0;for(const e of this)++t;return t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var o,i=e[n],a=0,s=i.length;a<s;++a)(o=i[a])&&t.call(o,o.__data__,a,i);return this},attr:function(t,e){var n=L(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==e?n.local?P:A:"function"==typeof e?n.local?Y:k:n.local?T:B)(n,e))},style:function(t,e,n){return arguments.length>1?this.each((null==e?D:"function"==typeof e?G:z)(t,e,null==n?"":n)):H(this.node(),t)},property:function(t,e){return arguments.length>1?this.each((null==e?$:"function"==typeof e?R:O)(t,e)):this.node()[t]},classed:function(t,e){var n=X(t+"");if(arguments.length<2){for(var r=V(this.node()),o=-1,i=n.length;++o<i;)if(!r.contains(n[o]))return!1;return!0}return this.each(("function"==typeof e?U:e?W:K)(n,e))},text:function(t){return arguments.length?this.each(null==t?Q:("function"==typeof t?tt:J)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?et:("function"==typeof t?rt:nt)(t)):this.node().innerHTML},raise:function(){return this.each(ot)},lower:function(){return this.each(it)},append:function(t){var e="function"==typeof t?t:ut(t);return this.select((function(){return this.appendChild(e.apply(this,arguments))}))},insert:function(t,e){var n="function"==typeof t?t:ut(t),r=null==e?ct:"function"==typeof e?e:l(e);return this.select((function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(lt)},clone:function(t){return this.select(t?ht:dt)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var r,o,i=function(t){return t.trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}}))}(t+""),a=i.length;if(!(arguments.length<2)){for(s=e?pt:ft,r=0;r<a;++r)this.each(s(i[r],e,n));return this}var s=this.node().__on;if(s)for(var u,c=0,l=s.length;c<l;++c)for(r=0,u=s[c];r<a;++r)if((o=i[r]).type===u.type&&o.name===u.name)return u.value},dispatch:function(t,e){return this.each(("function"==typeof e?yt:gt)(t,e))},[Symbol.iterator]:function*(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r,o=t[e],i=0,a=o.length;i<a;++i)(r=o[i])&&(yield r)}};var wt=xt;function Et(t){return"string"==typeof t?new Mt([[document.querySelector(t)]],[document.documentElement]):new Mt([[t]],vt)}function bt(t,e){if(t=function(t){let e;for(;e=t.sourceEvent;)t=e;return t}(t),void 0===e&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,[(r=r.matrixTransform(e.getScreenCTM().inverse())).x,r.y]}if(e.getBoundingClientRect){var o=e.getBoundingClientRect();return[t.clientX-o.left-e.clientLeft,t.clientY-o.top-e.clientTop]}}return[t.pageX,t.pageY]}const _t={passive:!1},Nt={capture:!0,passive:!1};function Ct(t){t.stopImmediatePropagation()}function St(t){t.preventDefault(),t.stopImmediatePropagation()}function Ft(t){var e=t.document.documentElement,n=Et(t).on("dragstart.drag",St,Nt);"onselectstart"in e?n.on("selectstart.drag",St,Nt):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function Lt(t,e){var n=t.document.documentElement,r=Et(t).on("dragstart.drag",null);e&&(r.on("click.drag",St,Nt),setTimeout((function(){r.on("click.drag",null)}),0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}var At=t=>()=>t;function Pt(t,{sourceEvent:e,subject:n,target:r,identifier:o,active:i,x:a,y:s,dx:u,dy:c,dispatch:l}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:o,enumerable:!0,configurable:!0},active:{value:i,enumerable:!0,configurable:!0},x:{value:a,enumerable:!0,configurable:!0},y:{value:s,enumerable:!0,configurable:!0},dx:{value:u,enumerable:!0,configurable:!0},dy:{value:c,enumerable:!0,configurable:!0},_:{value:l}})}function Bt(t){return!t.ctrlKey&&!t.button}function Tt(){return this.parentNode}function kt(t,e){return null==e?{x:t.x,y:t.y}:e}function Yt(){return navigator.maxTouchPoints||"ontouchstart"in this}function It(){var t,e,n,r,o=Bt,i=Tt,a=kt,s=Yt,c={},l=u("start","drag","end"),d=0,h=0;function f(t){t.on("mousedown.drag",p).filter(s).on("touchstart.drag",y).on("touchmove.drag",v,_t).on("touchend.drag touchcancel.drag",M).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function p(a,s){if(!r&&o.call(this,a,s)){var u=x(this,i.call(this,a,s),a,s,"mouse");u&&(Et(a.view).on("mousemove.drag",m,Nt).on("mouseup.drag",g,Nt),Ft(a.view),Ct(a),n=!1,t=a.clientX,e=a.clientY,u("start",a))}}function m(r){if(St(r),!n){var o=r.clientX-t,i=r.clientY-e;n=o*o+i*i>h}c.mouse("drag",r)}function g(t){Et(t.view).on("mousemove.drag mouseup.drag",null),Lt(t.view,n),St(t),c.mouse("end",t)}function y(t,e){if(o.call(this,t,e)){var n,r,a=t.changedTouches,s=i.call(this,t,e),u=a.length;for(n=0;n<u;++n)(r=x(this,s,t,e,a[n].identifier,a[n]))&&(Ct(t),r("start",t,a[n]))}}function v(t){var e,n,r=t.changedTouches,o=r.length;for(e=0;e<o;++e)(n=c[r[e].identifier])&&(St(t),n("drag",t,r[e]))}function M(t){var e,n,o=t.changedTouches,i=o.length;for(r&&clearTimeout(r),r=setTimeout((function(){r=null}),500),e=0;e<i;++e)(n=c[o[e].identifier])&&(Ct(t),n("end",t,o[e]))}function x(t,e,n,r,o,i){var s,u,h,p=l.copy(),m=bt(i||n,e);if(null!=(h=a.call(t,new Pt("beforestart",{sourceEvent:n,target:f,identifier:o,active:d,x:m[0],y:m[1],dx:0,dy:0,dispatch:p}),r)))return s=h.x-m[0]||0,u=h.y-m[1]||0,function n(i,a,l){var g,y=m;switch(i){case"start":c[o]=n,g=d++;break;case"end":delete c[o],--d;case"drag":m=bt(l||a,e),g=d}p.call(i,t,new Pt(i,{sourceEvent:a,subject:h,target:f,identifier:o,active:g,x:m[0]+s,y:m[1]+u,dx:m[0]-y[0],dy:m[1]-y[1],dispatch:p}),r)}}return f.filter=function(t){return arguments.length?(o="function"==typeof t?t:At(!!t),f):o},f.container=function(t){return arguments.length?(i="function"==typeof t?t:At(t),f):i},f.subject=function(t){return arguments.length?(a="function"==typeof t?t:At(t),f):a},f.touchable=function(t){return arguments.length?(s="function"==typeof t?t:At(!!t),f):s},f.on=function(){var t=l.on.apply(l,arguments);return t===l?f:t},f.clickDistance=function(t){return arguments.length?(h=(t=+t)*t,f):Math.sqrt(h)},f}Pt.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};function Dt(t){return((t=Math.exp(t))+1/t)/2}var zt,Gt,Ht=function t(e,n,r){function o(t,o){var i,a,s=t[0],u=t[1],c=t[2],l=o[0],d=o[1],h=o[2],f=l-s,p=d-u,m=f*f+p*p;if(m<1e-12)a=Math.log(h/c)/e,i=function(t){return[s+t*f,u+t*p,c*Math.exp(e*t*a)]};else{var g=Math.sqrt(m),y=(h*h-c*c+r*m)/(2*c*n*g),v=(h*h-c*c-r*m)/(2*h*n*g),M=Math.log(Math.sqrt(y*y+1)-y),x=Math.log(Math.sqrt(v*v+1)-v);a=(x-M)/e,i=function(t){var r,o=t*a,i=Dt(M),l=c/(n*g)*(i*(r=e*o+M,((r=Math.exp(2*r))-1)/(r+1))-function(t){return((t=Math.exp(t))-1/t)/2}(M));return[s+l*f,u+l*p,c*i/Dt(e*o+M)]}}return i.duration=1e3*a*e/Math.SQRT2,i}return o.rho=function(e){var n=Math.max(.001,+e),r=n*n;return t(n,r,r*r)},o}(Math.SQRT2,2,4),$t=0,Ot=0,Rt=0,Xt=0,Vt=0,qt=0,jt="object"==typeof performance&&performance.now?performance:Date,Zt="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Wt(){return Vt||(Zt(Kt),Vt=jt.now()+qt)}function Kt(){Vt=0}function Ut(){this._call=this._time=this._next=null}function Qt(t,e,n){var r=new Ut;return r.restart(t,e,n),r}function Jt(){Vt=(Xt=jt.now())+qt,$t=Ot=0;try{!function(){Wt(),++$t;for(var t,e=zt;e;)(t=Vt-e._time)>=0&&e._call.call(void 0,t),e=e._next;--$t}()}finally{$t=0,function(){var t,e,n=zt,r=1/0;for(;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:zt=e);Gt=t,ee(r)}(),Vt=0}}function te(){var t=jt.now(),e=t-Xt;e>1e3&&(qt-=e,Xt=t)}function ee(t){$t||(Ot&&(Ot=clearTimeout(Ot)),t-Vt>24?(t<1/0&&(Ot=setTimeout(Jt,t-jt.now()-qt)),Rt&&(Rt=clearInterval(Rt))):(Rt||(Xt=jt.now(),Rt=setInterval(te,1e3)),$t=1,Zt(Jt)))}function ne(t,e,n){var r=new Ut;return e=null==e?0:+e,r.restart((n=>{r.stop(),t(n+e)}),e,n),r}Ut.prototype=Qt.prototype={constructor:Ut,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?Wt():+n)+(null==e?0:+e),this._next||Gt===this||(Gt?Gt._next=this:zt=this,Gt=this),this._call=t,this._time=n,ee()},stop:function(){this._call&&(this._call=null,this._time=1/0,ee())}};var re=u("start","end","cancel","interrupt"),oe=[],ie=2,ae=5,se=6;function ue(t,e,n,r,o,i){var a=t.__transition;if(a){if(n in a)return}else t.__transition={};!function(t,e,n){var r,o=t.__transition;function i(t){n.state=1,n.timer.restart(a,n.delay,n.time),n.delay<=t&&a(t-n.delay)}function a(i){var c,l,d,h;if(1!==n.state)return u();for(c in o)if((h=o[c]).name===n.name){if(3===h.state)return ne(a);4===h.state?(h.state=se,h.timer.stop(),h.on.call("interrupt",t,t.__data__,h.index,h.group),delete o[c]):+c<e&&(h.state=se,h.timer.stop(),h.on.call("cancel",t,t.__data__,h.index,h.group),delete o[c])}if(ne((function(){3===n.state&&(n.state=4,n.timer.restart(s,n.delay,n.time),s(i))})),n.state=ie,n.on.call("start",t,t.__data__,n.index,n.group),n.state===ie){for(n.state=3,r=new Array(d=n.tween.length),c=0,l=-1;c<d;++c)(h=n.tween[c].value.call(t,t.__data__,n.index,n.group))&&(r[++l]=h);r.length=l+1}}function s(e){for(var o=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(u),n.state=ae,1),i=-1,a=r.length;++i<a;)r[i].call(t,o);n.state===ae&&(n.on.call("end",t,t.__data__,n.index,n.group),u())}function u(){for(var r in n.state=se,n.timer.stop(),delete o[e],o)return;delete t.__transition}o[e]=n,n.timer=Qt(i,0,n.time)}(t,n,{name:e,index:r,group:o,on:re,tween:oe,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:0})}function ce(t,e){var n=de(t,e);if(n.state>0)throw new Error("too late; already scheduled");return n}function le(t,e){var n=de(t,e);if(n.state>3)throw new Error("too late; already running");return n}function de(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function he(t,e){var n,r,o,i=t.__transition,a=!0;if(i){for(o in e=null==e?null:e+"",i)(n=i[o]).name===e?(r=n.state>ie&&n.state<ae,n.state=se,n.timer.stop(),n.on.call(r?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete i[o]):a=!1;a&&delete t.__transition}}function fe(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}var pe,me=180/Math.PI,ge={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function ye(t,e,n,r,o,i){var a,s,u;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(u=t*n+e*r)&&(n-=t*u,r-=e*u),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,u/=s),t*r<e*n&&(t=-t,e=-e,u=-u,a=-a),{translateX:o,translateY:i,rotate:Math.atan2(e,t)*me,skewX:Math.atan(u)*me,scaleX:a,scaleY:s}}function ve(t,e,n,r){function o(t){return t.length?t.pop()+" ":""}return function(i,a){var s=[],u=[];return i=t(i),a=t(a),function(t,r,o,i,a,s){if(t!==o||r!==i){var u=a.push("translate(",null,e,null,n);s.push({i:u-4,x:fe(t,o)},{i:u-2,x:fe(r,i)})}else(o||i)&&a.push("translate("+o+e+i+n)}(i.translateX,i.translateY,a.translateX,a.translateY,s,u),function(t,e,n,i){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),i.push({i:n.push(o(n)+"rotate(",null,r)-2,x:fe(t,e)})):e&&n.push(o(n)+"rotate("+e+r)}(i.rotate,a.rotate,s,u),function(t,e,n,i){t!==e?i.push({i:n.push(o(n)+"skewX(",null,r)-2,x:fe(t,e)}):e&&n.push(o(n)+"skewX("+e+r)}(i.skewX,a.skewX,s,u),function(t,e,n,r,i,a){if(t!==n||e!==r){var s=i.push(o(i)+"scale(",null,",",null,")");a.push({i:s-4,x:fe(t,n)},{i:s-2,x:fe(e,r)})}else 1===n&&1===r||i.push(o(i)+"scale("+n+","+r+")")}(i.scaleX,i.scaleY,a.scaleX,a.scaleY,s,u),i=a=null,function(t){for(var e,n=-1,r=u.length;++n<r;)s[(e=u[n]).i]=e.x(t);return s.join("")}}}var Me=ve((function(t){const e=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?ge:ye(e.a,e.b,e.c,e.d,e.e,e.f)}),"px, ","px)","deg)"),xe=ve((function(t){return null==t?ge:(pe||(pe=document.createElementNS("http://www.w3.org/2000/svg","g")),pe.setAttribute("transform",t),(t=pe.transform.baseVal.consolidate())?ye((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):ge)}),", ",")",")");function we(t,e){var n,r;return function(){var o=le(this,t),i=o.tween;if(i!==n)for(var a=0,s=(r=n=i).length;a<s;++a)if(r[a].name===e){(r=r.slice()).splice(a,1);break}o.tween=r}}function Ee(t,e,n){var r,o;if("function"!=typeof n)throw new Error;return function(){var i=le(this,t),a=i.tween;if(a!==r){o=(r=a).slice();for(var s={name:e,value:n},u=0,c=o.length;u<c;++u)if(o[u].name===e){o[u]=s;break}u===c&&o.push(s)}i.tween=o}}function be(t,e,n){var r=t._id;return t.each((function(){var t=le(this,r);(t.value||(t.value={}))[e]=n.apply(this,arguments)})),function(t){return de(t,r).value[e]}}function _e(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Ne(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Ce(){}var Se=.7,Fe=1/Se,Le="\\s*([+-]?\\d+)\\s*",Ae="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Pe="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Be=/^#([0-9a-f]{3,8})$/,Te=new RegExp(`^rgb\\(${Le},${Le},${Le}\\)$`),ke=new RegExp(`^rgb\\(${Pe},${Pe},${Pe}\\)$`),Ye=new RegExp(`^rgba\\(${Le},${Le},${Le},${Ae}\\)$`),Ie=new RegExp(`^rgba\\(${Pe},${Pe},${Pe},${Ae}\\)$`),De=new RegExp(`^hsl\\(${Ae},${Pe},${Pe}\\)$`),ze=new RegExp(`^hsla\\(${Ae},${Pe},${Pe},${Ae}\\)$`),Ge={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function He(){return this.rgb().formatHex()}function $e(){return this.rgb().formatRgb()}function Oe(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Be.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?Re(e):3===n?new qe(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?Xe(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?Xe(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=Te.exec(t))?new qe(e[1],e[2],e[3],1):(e=ke.exec(t))?new qe(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=Ye.exec(t))?Xe(e[1],e[2],e[3],e[4]):(e=Ie.exec(t))?Xe(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=De.exec(t))?Qe(e[1],e[2]/100,e[3]/100,1):(e=ze.exec(t))?Qe(e[1],e[2]/100,e[3]/100,e[4]):Ge.hasOwnProperty(t)?Re(Ge[t]):"transparent"===t?new qe(NaN,NaN,NaN,0):null}function Re(t){return new qe(t>>16&255,t>>8&255,255&t,1)}function Xe(t,e,n,r){return r<=0&&(t=e=n=NaN),new qe(t,e,n,r)}function Ve(t,e,n,r){return 1===arguments.length?((o=t)instanceof Ce||(o=Oe(o)),o?new qe((o=o.rgb()).r,o.g,o.b,o.opacity):new qe):new qe(t,e,n,null==r?1:r);var o}function qe(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function je(){return`#${Ue(this.r)}${Ue(this.g)}${Ue(this.b)}`}function Ze(){const t=We(this.opacity);return`${1===t?"rgb(":"rgba("}${Ke(this.r)}, ${Ke(this.g)}, ${Ke(this.b)}${1===t?")":`, ${t})`}`}function We(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Ke(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Ue(t){return((t=Ke(t))<16?"0":"")+t.toString(16)}function Qe(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new tn(t,e,n,r)}function Je(t){if(t instanceof tn)return new tn(t.h,t.s,t.l,t.opacity);if(t instanceof Ce||(t=Oe(t)),!t)return new tn;if(t instanceof tn)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,o=Math.min(e,n,r),i=Math.max(e,n,r),a=NaN,s=i-o,u=(i+o)/2;return s?(a=e===i?(n-r)/s+6*(n<r):n===i?(r-e)/s+2:(e-n)/s+4,s/=u<.5?i+o:2-i-o,a*=60):s=u>0&&u<1?0:a,new tn(a,s,u,t.opacity)}function tn(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function en(t){return(t=(t||0)%360)<0?t+360:t}function nn(t){return Math.max(0,Math.min(1,t||0))}function rn(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}function on(t,e,n,r,o){var i=t*t,a=i*t;return((1-3*t+3*i-a)*e+(4-6*i+3*a)*n+(1+3*t+3*i-3*a)*r+a*o)/6}_e(Ce,Oe,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:He,formatHex:He,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return Je(this).formatHsl()},formatRgb:$e,toString:$e}),_e(qe,Ve,Ne(Ce,{brighter(t){return t=null==t?Fe:Math.pow(Fe,t),new qe(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=null==t?Se:Math.pow(Se,t),new qe(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new qe(Ke(this.r),Ke(this.g),Ke(this.b),We(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:je,formatHex:je,formatHex8:function(){return`#${Ue(this.r)}${Ue(this.g)}${Ue(this.b)}${Ue(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:Ze,toString:Ze})),_e(tn,(function(t,e,n,r){return 1===arguments.length?Je(t):new tn(t,e,n,null==r?1:r)}),Ne(Ce,{brighter(t){return t=null==t?Fe:Math.pow(Fe,t),new tn(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=null==t?Se:Math.pow(Se,t),new tn(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,o=2*n-r;return new qe(rn(t>=240?t-240:t+120,o,r),rn(t,o,r),rn(t<120?t+240:t-120,o,r),this.opacity)},clamp(){return new tn(en(this.h),nn(this.s),nn(this.l),We(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=We(this.opacity);return`${1===t?"hsl(":"hsla("}${en(this.h)}, ${100*nn(this.s)}%, ${100*nn(this.l)}%${1===t?")":`, ${t})`}`}}));var an=t=>()=>t;function sn(t,e){return function(n){return t+n*e}}function un(t){return 1==(t=+t)?cn:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}(e,n,t):an(isNaN(e)?n:e)}}function cn(t,e){var n=e-t;return n?sn(t,n):an(isNaN(t)?e:t)}var ln=function t(e){var n=un(e);function r(t,e){var r=n((t=Ve(t)).r,(e=Ve(e)).r),o=n(t.g,e.g),i=n(t.b,e.b),a=cn(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=o(e),t.b=i(e),t.opacity=a(e),t+""}}return r.gamma=t,r}(1);function dn(t){return function(e){var n,r,o=e.length,i=new Array(o),a=new Array(o),s=new Array(o);for(n=0;n<o;++n)r=Ve(e[n]),i[n]=r.r||0,a[n]=r.g||0,s[n]=r.b||0;return i=t(i),a=t(a),s=t(s),r.opacity=1,function(t){return r.r=i(t),r.g=a(t),r.b=s(t),r+""}}}dn((function(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),o=t[r],i=t[r+1],a=r>0?t[r-1]:2*o-i,s=r<e-1?t[r+2]:2*i-o;return on((n-r/e)*e,a,o,i,s)}})),dn((function(t){var e=t.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*e),o=t[(r+e-1)%e],i=t[r%e],a=t[(r+1)%e],s=t[(r+2)%e];return on((n-r/e)*e,o,i,a,s)}}));var hn=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,fn=new RegExp(hn.source,"g");function pn(t,e){var n,r,o,i=hn.lastIndex=fn.lastIndex=0,a=-1,s=[],u=[];for(t+="",e+="";(n=hn.exec(t))&&(r=fn.exec(e));)(o=r.index)>i&&(o=e.slice(i,o),s[a]?s[a]+=o:s[++a]=o),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,u.push({i:a,x:fe(n,r)})),i=fn.lastIndex;return i<e.length&&(o=e.slice(i),s[a]?s[a]+=o:s[++a]=o),s.length<2?u[0]?function(t){return function(e){return t(e)+""}}(u[0].x):function(t){return function(){return t}}(e):(e=u.length,function(t){for(var n,r=0;r<e;++r)s[(n=u[r]).i]=n.x(t);return s.join("")})}function mn(t,e){var n;return("number"==typeof e?fe:e instanceof Oe?ln:(n=Oe(e))?(e=n,ln):pn)(t,e)}function gn(t){return function(){this.removeAttribute(t)}}function yn(t){return function(){this.removeAttributeNS(t.space,t.local)}}function vn(t,e,n){var r,o,i=n+"";return function(){var a=this.getAttribute(t);return a===i?null:a===r?o:o=e(r=a,n)}}function Mn(t,e,n){var r,o,i=n+"";return function(){var a=this.getAttributeNS(t.space,t.local);return a===i?null:a===r?o:o=e(r=a,n)}}function xn(t,e,n){var r,o,i;return function(){var a,s,u=n(this);if(null!=u)return(a=this.getAttribute(t))===(s=u+"")?null:a===r&&s===o?i:(o=s,i=e(r=a,u));this.removeAttribute(t)}}function wn(t,e,n){var r,o,i;return function(){var a,s,u=n(this);if(null!=u)return(a=this.getAttributeNS(t.space,t.local))===(s=u+"")?null:a===r&&s===o?i:(o=s,i=e(r=a,u));this.removeAttributeNS(t.space,t.local)}}function En(t,e){var n,r;function o(){var o=e.apply(this,arguments);return o!==r&&(n=(r=o)&&function(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}(t,o)),n}return o._value=e,o}function bn(t,e){var n,r;function o(){var o=e.apply(this,arguments);return o!==r&&(n=(r=o)&&function(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}(t,o)),n}return o._value=e,o}function _n(t,e){return function(){ce(this,t).delay=+e.apply(this,arguments)}}function Nn(t,e){return e=+e,function(){ce(this,t).delay=e}}function Cn(t,e){return function(){le(this,t).duration=+e.apply(this,arguments)}}function Sn(t,e){return e=+e,function(){le(this,t).duration=e}}var Fn=wt.prototype.constructor;function Ln(t){return function(){this.style.removeProperty(t)}}var An=0;function Pn(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function Bn(){return++An}var Tn=wt.prototype;Pn.prototype=function(t){return wt().transition(t)}.prototype={constructor:Pn,select:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=l(t));for(var r=this._groups,o=r.length,i=new Array(o),a=0;a<o;++a)for(var s,u,c=r[a],d=c.length,h=i[a]=new Array(d),f=0;f<d;++f)(s=c[f])&&(u=t.call(s,s.__data__,f,c))&&("__data__"in s&&(u.__data__=s.__data__),h[f]=u,ue(h[f],e,n,f,h,de(s,n)));return new Pn(i,this._parents,e,n)},selectAll:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=h(t));for(var r=this._groups,o=r.length,i=[],a=[],s=0;s<o;++s)for(var u,c=r[s],l=c.length,d=0;d<l;++d)if(u=c[d]){for(var f,p=t.call(u,u.__data__,d,c),m=de(u,n),g=0,y=p.length;g<y;++g)(f=p[g])&&ue(f,e,n,g,p,m);i.push(p),a.push(u)}return new Pn(i,a,e,n)},selectChild:Tn.selectChild,selectChildren:Tn.selectChildren,filter:function(t){"function"!=typeof t&&(t=p(t));for(var e=this._groups,n=e.length,r=new Array(n),o=0;o<n;++o)for(var i,a=e[o],s=a.length,u=r[o]=[],c=0;c<s;++c)(i=a[c])&&t.call(i,i.__data__,c,a)&&u.push(i);return new Pn(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,o=n.length,i=Math.min(r,o),a=new Array(r),s=0;s<i;++s)for(var u,c=e[s],l=n[s],d=c.length,h=a[s]=new Array(d),f=0;f<d;++f)(u=c[f]||l[f])&&(h[f]=u);for(;s<r;++s)a[s]=e[s];return new Pn(a,this._parents,this._name,this._id)},selection:function(){return new Fn(this._groups,this._parents)},transition:function(){for(var t=this._name,e=this._id,n=Bn(),r=this._groups,o=r.length,i=0;i<o;++i)for(var a,s=r[i],u=s.length,c=0;c<u;++c)if(a=s[c]){var l=de(a,e);ue(a,t,n,c,s,{time:l.time+l.delay+l.duration,delay:0,duration:l.duration,ease:l.ease})}return new Pn(r,this._parents,t,n)},call:Tn.call,nodes:Tn.nodes,node:Tn.node,size:Tn.size,empty:Tn.empty,each:Tn.each,on:function(t,e){var n=this._id;return arguments.length<2?de(this.node(),n).on.on(t):this.each(function(t,e,n){var r,o,i=function(t){return(t+"").trim().split(/^|\s+/).every((function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t}))}(e)?ce:le;return function(){var a=i(this,t),s=a.on;s!==r&&(o=(r=s).copy()).on(e,n),a.on=o}}(n,t,e))},attr:function(t,e){var n=L(t),r="transform"===n?xe:mn;return this.attrTween(t,"function"==typeof e?(n.local?wn:xn)(n,r,be(this,"attr."+t,e)):null==e?(n.local?yn:gn)(n):(n.local?Mn:vn)(n,r,e))},attrTween:function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;var r=L(t);return this.tween(n,(r.local?En:bn)(r,e))},style:function(t,e,n){var r="transform"==(t+="")?Me:mn;return null==e?this.styleTween(t,function(t,e){var n,r,o;return function(){var i=H(this,t),a=(this.style.removeProperty(t),H(this,t));return i===a?null:i===n&&a===r?o:o=e(n=i,r=a)}}(t,r)).on("end.style."+t,Ln(t)):"function"==typeof e?this.styleTween(t,function(t,e,n){var r,o,i;return function(){var a=H(this,t),s=n(this),u=s+"";return null==s&&(this.style.removeProperty(t),u=s=H(this,t)),a===u?null:a===r&&u===o?i:(o=u,i=e(r=a,s))}}(t,r,be(this,"style."+t,e))).each(function(t,e){var n,r,o,i,a="style."+e,s="end."+a;return function(){var u=le(this,t),c=u.on,l=null==u.value[a]?i||(i=Ln(e)):void 0;c===n&&o===l||(r=(n=c).copy()).on(s,o=l),u.on=r}}(this._id,t)):this.styleTween(t,function(t,e,n){var r,o,i=n+"";return function(){var a=H(this,t);return a===i?null:a===r?o:o=e(r=a,n)}}(t,r,e),n).on("end.style."+t,null)},styleTween:function(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==e)return this.tween(r,null);if("function"!=typeof e)throw new Error;return this.tween(r,function(t,e,n){var r,o;function i(){var i=e.apply(this,arguments);return i!==o&&(r=(o=i)&&function(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}(t,i,n)),r}return i._value=e,i}(t,e,null==n?"":n))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var e=t(this);this.textContent=null==e?"":e}}(be(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(null==t)return this.tween(e,null);if("function"!=typeof t)throw new Error;return this.tween(e,function(t){var e,n;function r(){var r=t.apply(this,arguments);return r!==n&&(e=(n=r)&&function(t){return function(e){this.textContent=t.call(this,e)}}(r)),e}return r._value=t,r}(t))},remove:function(){return this.on("end.remove",function(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}(this._id))},tween:function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r,o=de(this.node(),n).tween,i=0,a=o.length;i<a;++i)if((r=o[i]).name===t)return r.value;return null}return this.each((null==e?we:Ee)(n,t,e))},delay:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?_n:Nn)(e,t)):de(this.node(),e).delay},duration:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?Cn:Sn)(e,t)):de(this.node(),e).duration},ease:function(t){var e=this._id;return arguments.length?this.each(function(t,e){if("function"!=typeof e)throw new Error;return function(){le(this,t).ease=e}}(e,t)):de(this.node(),e).ease},easeVarying:function(t){if("function"!=typeof t)throw new Error;return this.each(function(t,e){return function(){var n=e.apply(this,arguments);if("function"!=typeof n)throw new Error;le(this,t).ease=n}}(this._id,t))},end:function(){var t,e,n=this,r=n._id,o=n.size();return new Promise((function(i,a){var s={value:a},u={value:function(){0==--o&&i()}};n.each((function(){var n=le(this,r),o=n.on;o!==t&&((e=(t=o).copy())._.cancel.push(s),e._.interrupt.push(s),e._.end.push(u)),n.on=e})),0===o&&i()}))},[Symbol.iterator]:Tn[Symbol.iterator]};var kn={time:null,delay:0,duration:250,ease:function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}};function Yn(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}wt.prototype.interrupt=function(t){return this.each((function(){he(this,t)}))},wt.prototype.transition=function(t){var e,n;t instanceof Pn?(e=t._id,t=t._name):(e=Bn(),(n=kn).time=Wt(),t=null==t?null:t+"");for(var r=this._groups,o=r.length,i=0;i<o;++i)for(var a,s=r[i],u=s.length,c=0;c<u;++c)(a=s[c])&&ue(a,t,e,c,s,n||Yn(a,e));return new Pn(r,this._parents,t,e)};var In=t=>()=>t;function Dn(t,{sourceEvent:e,target:n,transform:r,dispatch:o}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:o}})}function zn(t,e,n){this.k=t,this.x=e,this.y=n}zn.prototype={constructor:zn,scale:function(t){return 1===t?this:new zn(this.k*t,this.x,this.y)},translate:function(t,e){return 0===t&0===e?this:new zn(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Gn=new zn(1,0,0);function Hn(t){for(;!t.__zoom;)if(!(t=t.parentNode))return Gn;return t.__zoom}function $n(t){t.stopImmediatePropagation()}function On(t){t.preventDefault(),t.stopImmediatePropagation()}function Rn(t){return!(t.ctrlKey&&"wheel"!==t.type||t.button)}function Xn(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t).hasAttribute("viewBox")?[[(t=t.viewBox.baseVal).x,t.y],[t.x+t.width,t.y+t.height]]:[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]:[[0,0],[t.clientWidth,t.clientHeight]]}function Vn(){return this.__zoom||Gn}function qn(t){return-t.deltaY*(1===t.deltaMode?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function jn(){return navigator.maxTouchPoints||"ontouchstart"in this}function Zn(t,e,n){var r=t.invertX(e[0][0])-n[0][0],o=t.invertX(e[1][0])-n[1][0],i=t.invertY(e[0][1])-n[0][1],a=t.invertY(e[1][1])-n[1][1];return t.translate(o>r?(r+o)/2:Math.min(0,r)||Math.max(0,o),a>i?(i+a)/2:Math.min(0,i)||Math.max(0,a))}function Wn(){var t,e,n,r=Rn,o=Xn,i=Zn,a=qn,s=jn,c=[0,1/0],l=[[-1/0,-1/0],[1/0,1/0]],d=250,h=Ht,f=u("start","zoom","end"),p=0,m=10;function g(t){t.property("__zoom",Vn).on("wheel.zoom",b,{passive:!1}).on("mousedown.zoom",_).on("dblclick.zoom",N).filter(s).on("touchstart.zoom",C).on("touchmove.zoom",S).on("touchend.zoom touchcancel.zoom",F).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function y(t,e){return(e=Math.max(c[0],Math.min(c[1],e)))===t.k?t:new zn(e,t.x,t.y)}function v(t,e,n){var r=e[0]-n[0]*t.k,o=e[1]-n[1]*t.k;return r===t.x&&o===t.y?t:new zn(t.k,r,o)}function M(t){return[(+t[0][0]+ +t[1][0])/2,(+t[0][1]+ +t[1][1])/2]}function x(t,e,n,r){t.on("start.zoom",(function(){w(this,arguments).event(r).start()})).on("interrupt.zoom end.zoom",(function(){w(this,arguments).event(r).end()})).tween("zoom",(function(){var t=this,i=arguments,a=w(t,i).event(r),s=o.apply(t,i),u=null==n?M(s):"function"==typeof n?n.apply(t,i):n,c=Math.max(s[1][0]-s[0][0],s[1][1]-s[0][1]),l=t.__zoom,d="function"==typeof e?e.apply(t,i):e,f=h(l.invert(u).concat(c/l.k),d.invert(u).concat(c/d.k));return function(t){if(1===t)t=d;else{var e=f(t),n=c/e[2];t=new zn(n,u[0]-e[0]*n,u[1]-e[1]*n)}a.zoom(null,t)}}))}function w(t,e,n){return!n&&t.__zooming||new E(t,e)}function E(t,e){this.that=t,this.args=e,this.active=0,this.sourceEvent=null,this.extent=o.apply(t,e),this.taps=0}function b(t,...e){if(r.apply(this,arguments)){var n=w(this,e).event(t),o=this.__zoom,s=Math.max(c[0],Math.min(c[1],o.k*Math.pow(2,a.apply(this,arguments)))),u=bt(t);if(n.wheel)n.mouse[0][0]===u[0]&&n.mouse[0][1]===u[1]||(n.mouse[1]=o.invert(n.mouse[0]=u)),clearTimeout(n.wheel);else{if(o.k===s)return;n.mouse=[u,o.invert(u)],he(this),n.start()}On(t),n.wheel=setTimeout((function(){n.wheel=null,n.end()}),150),n.zoom("mouse",i(v(y(o,s),n.mouse[0],n.mouse[1]),n.extent,l))}}function _(t,...e){if(!n&&r.apply(this,arguments)){var o=t.currentTarget,a=w(this,e,!0).event(t),s=Et(t.view).on("mousemove.zoom",(function(t){if(On(t),!a.moved){var e=t.clientX-c,n=t.clientY-d;a.moved=e*e+n*n>p}a.event(t).zoom("mouse",i(v(a.that.__zoom,a.mouse[0]=bt(t,o),a.mouse[1]),a.extent,l))}),!0).on("mouseup.zoom",(function(t){s.on("mousemove.zoom mouseup.zoom",null),Lt(t.view,a.moved),On(t),a.event(t).end()}),!0),u=bt(t,o),c=t.clientX,d=t.clientY;Ft(t.view),$n(t),a.mouse=[u,this.__zoom.invert(u)],he(this),a.start()}}function N(t,...e){if(r.apply(this,arguments)){var n=this.__zoom,a=bt(t.changedTouches?t.changedTouches[0]:t,this),s=n.invert(a),u=n.k*(t.shiftKey?.5:2),c=i(v(y(n,u),a,s),o.apply(this,e),l);On(t),d>0?Et(this).transition().duration(d).call(x,c,a,t):Et(this).call(g.transform,c,a,t)}}function C(n,...o){if(r.apply(this,arguments)){var i,a,s,u,c=n.touches,l=c.length,d=w(this,o,n.changedTouches.length===l).event(n);for($n(n),a=0;a<l;++a)u=[u=bt(s=c[a],this),this.__zoom.invert(u),s.identifier],d.touch0?d.touch1||d.touch0[2]===u[2]||(d.touch1=u,d.taps=0):(d.touch0=u,i=!0,d.taps=1+!!t);t&&(t=clearTimeout(t)),i&&(d.taps<2&&(e=u[0],t=setTimeout((function(){t=null}),500)),he(this),d.start())}}function S(t,...e){if(this.__zooming){var n,r,o,a,s=w(this,e).event(t),u=t.changedTouches,c=u.length;for(On(t),n=0;n<c;++n)o=bt(r=u[n],this),s.touch0&&s.touch0[2]===r.identifier?s.touch0[0]=o:s.touch1&&s.touch1[2]===r.identifier&&(s.touch1[0]=o);if(r=s.that.__zoom,s.touch1){var d=s.touch0[0],h=s.touch0[1],f=s.touch1[0],p=s.touch1[1],m=(m=f[0]-d[0])*m+(m=f[1]-d[1])*m,g=(g=p[0]-h[0])*g+(g=p[1]-h[1])*g;r=y(r,Math.sqrt(m/g)),o=[(d[0]+f[0])/2,(d[1]+f[1])/2],a=[(h[0]+p[0])/2,(h[1]+p[1])/2]}else{if(!s.touch0)return;o=s.touch0[0],a=s.touch0[1]}s.zoom("touch",i(v(r,o,a),s.extent,l))}}function F(t,...r){if(this.__zooming){var o,i,a=w(this,r).event(t),s=t.changedTouches,u=s.length;for($n(t),n&&clearTimeout(n),n=setTimeout((function(){n=null}),500),o=0;o<u;++o)i=s[o],a.touch0&&a.touch0[2]===i.identifier?delete a.touch0:a.touch1&&a.touch1[2]===i.identifier&&delete a.touch1;if(a.touch1&&!a.touch0&&(a.touch0=a.touch1,delete a.touch1),a.touch0)a.touch0[1]=this.__zoom.invert(a.touch0[0]);else if(a.end(),2===a.taps&&(i=bt(i,this),Math.hypot(e[0]-i[0],e[1]-i[1])<m)){var c=Et(this).on("dblclick.zoom");c&&c.apply(this,arguments)}}}return g.transform=function(t,e,n,r){var o=t.selection?t.selection():t;o.property("__zoom",Vn),t!==o?x(t,e,n,r):o.interrupt().each((function(){w(this,arguments).event(r).start().zoom(null,"function"==typeof e?e.apply(this,arguments):e).end()}))},g.scaleBy=function(t,e,n,r){g.scaleTo(t,(function(){return this.__zoom.k*("function"==typeof e?e.apply(this,arguments):e)}),n,r)},g.scaleTo=function(t,e,n,r){g.transform(t,(function(){var t=o.apply(this,arguments),r=this.__zoom,a=null==n?M(t):"function"==typeof n?n.apply(this,arguments):n,s=r.invert(a),u="function"==typeof e?e.apply(this,arguments):e;return i(v(y(r,u),a,s),t,l)}),n,r)},g.translateBy=function(t,e,n,r){g.transform(t,(function(){return i(this.__zoom.translate("function"==typeof e?e.apply(this,arguments):e,"function"==typeof n?n.apply(this,arguments):n),o.apply(this,arguments),l)}),null,r)},g.translateTo=function(t,e,n,r,a){g.transform(t,(function(){var t=o.apply(this,arguments),a=this.__zoom,s=null==r?M(t):"function"==typeof r?r.apply(this,arguments):r;return i(Gn.translate(s[0],s[1]).scale(a.k).translate("function"==typeof e?-e.apply(this,arguments):-e,"function"==typeof n?-n.apply(this,arguments):-n),t,l)}),r,a)},E.prototype={event:function(t){return t&&(this.sourceEvent=t),this},start:function(){return 1==++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(t,e){return this.mouse&&"mouse"!==t&&(this.mouse[1]=e.invert(this.mouse[0])),this.touch0&&"touch"!==t&&(this.touch0[1]=e.invert(this.touch0[0])),this.touch1&&"touch"!==t&&(this.touch1[1]=e.invert(this.touch1[0])),this.that.__zoom=e,this.emit("zoom"),this},end:function(){return 0==--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(t){var e=Et(this.that).datum();f.call(t,this.that,new Dn(t,{sourceEvent:this.sourceEvent,target:g,type:t,transform:this.that.__zoom,dispatch:f}),e)}},g.wheelDelta=function(t){return arguments.length?(a="function"==typeof t?t:In(+t),g):a},g.filter=function(t){return arguments.length?(r="function"==typeof t?t:In(!!t),g):r},g.touchable=function(t){return arguments.length?(s="function"==typeof t?t:In(!!t),g):s},g.extent=function(t){return arguments.length?(o="function"==typeof t?t:In([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),g):o},g.scaleExtent=function(t){return arguments.length?(c[0]=+t[0],c[1]=+t[1],g):[c[0],c[1]]},g.translateExtent=function(t){return arguments.length?(l[0][0]=+t[0][0],l[1][0]=+t[1][0],l[0][1]=+t[0][1],l[1][1]=+t[1][1],g):[[l[0][0],l[0][1]],[l[1][0],l[1][1]]]},g.constrain=function(t){return arguments.length?(i=t,g):i},g.duration=function(t){return arguments.length?(d=+t,g):d},g.interpolate=function(t){return arguments.length?(h=t,g):h},g.on=function(){var t=f.on.apply(f,arguments);return t===f?g:t},g.clickDistance=function(t){return arguments.length?(p=(t=+t)*t,g):Math.sqrt(p)},g.tapDistance=function(t){return arguments.length?(m=+t,g):m},g}Hn.prototype=zn.prototype;const Kn={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:t=>`Node type "${t}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:t=>`The old edge with id=${t} does not exist.`,error009:t=>`Marker type "${t}" doesn't exist.`,error008:(t,{id:e,sourceHandle:n,targetHandle:r})=>`Couldn't create edge for ${t} handle id: "${"source"===t?n:r}", edge id: ${e}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:t=>`Edge type "${t}" not found. Using fallback type "default".`,error012:t=>`Node with id "${t}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,error013:(t="react")=>`It seems that you haven't loaded the styles. Please import '@xyflow/${t}/dist/style.css' or base.css to make sure everything is working properly.`,error014:()=>"useNodeConnections: No node ID found. Call useNodeConnections inside a custom Node or provide a node ID."},Un=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],Qn=["Enter"," ","Escape"];var Jn,tr,er;!function(t){t.Strict="strict",t.Loose="loose"}(Jn||(Jn={})),function(t){t.Free="free",t.Vertical="vertical",t.Horizontal="horizontal"}(tr||(tr={})),function(t){t.Partial="partial",t.Full="full"}(er||(er={}));const nr={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null};var rr,or,ir;!function(t){t.Bezier="default",t.Straight="straight",t.Step="step",t.SmoothStep="smoothstep",t.SimpleBezier="simplebezier"}(rr||(rr={})),function(t){t.Arrow="arrow",t.ArrowClosed="arrowclosed"}(or||(or={})),function(t){t.Left="left",t.Top="top",t.Right="right",t.Bottom="bottom"}(ir||(ir={}));const ar={[ir.Left]:ir.Right,[ir.Right]:ir.Left,[ir.Top]:ir.Bottom,[ir.Bottom]:ir.Top};function sr(t){return null===t?null:t?"valid":"invalid"}const ur=t=>"id"in t&&"source"in t&&"target"in t,cr=t=>"id"in t&&"position"in t&&!("source"in t)&&!("target"in t),lr=t=>"id"in t&&"internals"in t&&!("source"in t)&&!("target"in t),dr=(t,e=[0,0])=>{const{width:n,height:r}=$r(t),o=t.origin??e,i=n*o[0],a=r*o[1];return{x:t.position.x-i,y:t.position.y-a}},hr=(t,e={nodeOrigin:[0,0],nodeLookup:void 0})=>{if(0===t.length)return{x:0,y:0,width:0,height:0};const n=t.reduce(((t,n)=>{const r="string"==typeof n;let o=e.nodeLookup||r?void 0:n;e.nodeLookup&&(o=r?e.nodeLookup.get(n):lr(n)?n:e.nodeLookup.get(n.id));const i=o?Lr(o,e.nodeOrigin):{x:0,y:0,x2:0,y2:0};return Nr(t,i)}),{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return Sr(n)},fr=(t,e={})=>{if(0===t.size)return{x:0,y:0,width:0,height:0};let n={x:1/0,y:1/0,x2:-1/0,y2:-1/0};return t.forEach((t=>{if(void 0===e.filter||e.filter(t)){const e=Lr(t);n=Nr(n,e)}})),Sr(n)},pr=(t,e,[n,r,o]=[0,0,1],i=!1,a=!1)=>{const s={...Ir(e,[n,r,o]),width:e.width/o,height:e.height/o},u=[];for(const e of t.values()){const{measured:t,selectable:n=!0,hidden:r=!1}=e;if(a&&!n||r)continue;const o=t.width??e.width??e.initialWidth??null,c=t.height??e.height??e.initialHeight??null,l=Pr(s,Fr(e)),d=(o??0)*(c??0),h=i&&l>0;(!e.internals.handleBounds||h||l>=d||e.dragging)&&u.push(e)}return u},mr=(t,e)=>{const n=new Set;return t.forEach((t=>{n.add(t.id)})),e.filter((t=>n.has(t.source)||n.has(t.target)))};function gr(t,e){const n=new Map,r=e?.nodes?new Set(e.nodes.map((t=>t.id))):null;return t.forEach((t=>{!(t.measured.width&&t.measured.height&&(e?.includeHiddenNodes||!t.hidden))||r&&!r.has(t.id)||n.set(t.id,t)})),n}async function yr({nodes:t,width:e,height:n,panZoom:r,minZoom:o,maxZoom:i},a){if(0===t.size)return Promise.resolve(!1);const s=fr(t),u=zr(s,e,n,a?.minZoom??o,a?.maxZoom??i,a?.padding??.1);return await r.setViewport(u,{duration:a?.duration}),Promise.resolve(!0)}function vr({nodeId:t,nextPosition:e,nodeLookup:n,nodeOrigin:r=[0,0],nodeExtent:o,onError:i}){const a=n.get(t),s=a.parentId?n.get(a.parentId):void 0,{x:u,y:c}=s?s.internals.positionAbsolute:{x:0,y:0},l=a.origin??r;let d=o;if("parent"!==a.extent||a.expandParent)s&&Hr(a.extent)&&(d=[[a.extent[0][0]+u,a.extent[0][1]+c],[a.extent[1][0]+u,a.extent[1][1]+c]]);else if(s){const t=s.measured.width,e=s.measured.height;t&&e&&(d=[[u,c],[u+t,c+e]])}else i?.("005",Kn.error005());const h=Hr(d)?wr(e,d,a.measured):e;return{position:{x:h.x-u+a.measured.width*l[0],y:h.y-c+a.measured.height*l[1]},positionAbsolute:h}}async function Mr({nodesToRemove:t=[],edgesToRemove:e=[],nodes:n,edges:r,onBeforeDelete:o}){const i=new Set(t.map((t=>t.id))),a=[];for(const t of n){if(!1===t.deletable)continue;const e=i.has(t.id),n=!e&&t.parentId&&a.find((e=>e.id===t.parentId));(e||n)&&a.push(t)}const s=new Set(e.map((t=>t.id))),u=r.filter((t=>!1!==t.deletable)),c=mr(a,u);for(const t of u){s.has(t.id)&&!c.find((e=>e.id===t.id))&&c.push(t)}if(!o)return{edges:c,nodes:a};const l=await o({nodes:a,edges:c});return"boolean"==typeof l?l?{edges:c,nodes:a}:{edges:[],nodes:[]}:l}const xr=(t,e=0,n=1)=>Math.min(Math.max(t,e),n),wr=(t={x:0,y:0},e,n)=>({x:xr(t.x,e[0][0],e[1][0]-(n?.width??0)),y:xr(t.y,e[0][1],e[1][1]-(n?.height??0))});function Er(t,e,n){const{width:r,height:o}=$r(n),{x:i,y:a}=n.internals.positionAbsolute;return wr(t,[[i,a],[i+r,a+o]],e)}const br=(t,e,n)=>t<e?xr(Math.abs(t-e),1,e)/e:t>n?-xr(Math.abs(t-n),1,e)/e:0,_r=(t,e,n=15,r=40)=>[br(t.x,r,e.width-r)*n,br(t.y,r,e.height-r)*n],Nr=(t,e)=>({x:Math.min(t.x,e.x),y:Math.min(t.y,e.y),x2:Math.max(t.x2,e.x2),y2:Math.max(t.y2,e.y2)}),Cr=({x:t,y:e,width:n,height:r})=>({x:t,y:e,x2:t+n,y2:e+r}),Sr=({x:t,y:e,x2:n,y2:r})=>({x:t,y:e,width:n-t,height:r-e}),Fr=(t,e=[0,0])=>{const{x:n,y:r}=lr(t)?t.internals.positionAbsolute:dr(t,e);return{x:n,y:r,width:t.measured?.width??t.width??t.initialWidth??0,height:t.measured?.height??t.height??t.initialHeight??0}},Lr=(t,e=[0,0])=>{const{x:n,y:r}=lr(t)?t.internals.positionAbsolute:dr(t,e);return{x:n,y:r,x2:n+(t.measured?.width??t.width??t.initialWidth??0),y2:r+(t.measured?.height??t.height??t.initialHeight??0)}},Ar=(t,e)=>Sr(Nr(Cr(t),Cr(e))),Pr=(t,e)=>{const n=Math.max(0,Math.min(t.x+t.width,e.x+e.width)-Math.max(t.x,e.x)),r=Math.max(0,Math.min(t.y+t.height,e.y+e.height)-Math.max(t.y,e.y));return Math.ceil(n*r)},Br=t=>Tr(t.width)&&Tr(t.height)&&Tr(t.x)&&Tr(t.y),Tr=t=>!isNaN(t)&&isFinite(t),kr=(t,e)=>{0},Yr=(t,e=[1,1])=>({x:e[0]*Math.round(t.x/e[0]),y:e[1]*Math.round(t.y/e[1])}),Ir=({x:t,y:e},[n,r,o],i=!1,a=[1,1])=>{const s={x:(t-n)/o,y:(e-r)/o};return i?Yr(s,a):s},Dr=({x:t,y:e},[n,r,o])=>({x:t*o+n,y:e*o+r}),zr=(t,e,n,r,o,i)=>{const a=e/(t.width*(1+i)),s=n/(t.height*(1+i)),u=Math.min(a,s),c=xr(u,r,o);return{x:e/2-(t.x+t.width/2)*c,y:n/2-(t.y+t.height/2)*c,zoom:c}},Gr=()=>"undefined"!=typeof navigator&&navigator?.userAgent?.indexOf("Mac")>=0;function Hr(t){return void 0!==t&&"parent"!==t}function $r(t){return{width:t.measured?.width??t.width??t.initialWidth??0,height:t.measured?.height??t.height??t.initialHeight??0}}function Or(t){return void 0!==(t.measured?.width??t.width??t.initialWidth)&&void 0!==(t.measured?.height??t.height??t.initialHeight)}function Rr(t,e={width:0,height:0},n,r,o){const i={...t},a=r.get(n);if(a){const t=a.origin||o;i.x+=a.internals.positionAbsolute.x-(e.width??0)*t[0],i.y+=a.internals.positionAbsolute.y-(e.height??0)*t[1]}return i}function Xr(t,e){if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0}function Vr(t,{snapGrid:e=[0,0],snapToGrid:n=!1,transform:r,containerBounds:o}){const{x:i,y:a}=Ur(t),s=Ir({x:i-(o?.left??0),y:a-(o?.top??0)},r),{x:u,y:c}=n?Yr(s,e):s;return{xSnapped:u,ySnapped:c,...s}}const qr=t=>({width:t.offsetWidth,height:t.offsetHeight}),jr=t=>t?.getRootNode?.()||window?.document,Zr=["INPUT","SELECT","TEXTAREA"];function Wr(t){const e=t.composedPath?.()?.[0]||t.target;if(1!==e?.nodeType)return!1;return Zr.includes(e.nodeName)||e.hasAttribute("contenteditable")||!!e.closest(".nokey")}const Kr=t=>"clientX"in t,Ur=(t,e)=>{const n=Kr(t),r=n?t.clientX:t.touches?.[0].clientX,o=n?t.clientY:t.touches?.[0].clientY;return{x:r-(e?.left??0),y:o-(e?.top??0)}},Qr=(t,e,n,r,o)=>{const i=e.querySelectorAll(`.${t}`);return i&&i.length?Array.from(i).map((e=>{const i=e.getBoundingClientRect();return{id:e.getAttribute("data-handleid"),type:t,nodeId:o,position:e.getAttribute("data-handlepos"),x:(i.left-n.left)/r,y:(i.top-n.top)/r,...qr(e)}})):null};function Jr({sourceX:t,sourceY:e,targetX:n,targetY:r,sourceControlX:o,sourceControlY:i,targetControlX:a,targetControlY:s}){const u=.125*t+.375*o+.375*a+.125*n,c=.125*e+.375*i+.375*s+.125*r;return[u,c,Math.abs(u-t),Math.abs(c-e)]}function to(t,e){return t>=0?.5*t:25*e*Math.sqrt(-t)}function eo({pos:t,x1:e,y1:n,x2:r,y2:o,c:i}){switch(t){case ir.Left:return[e-to(e-r,i),n];case ir.Right:return[e+to(r-e,i),n];case ir.Top:return[e,n-to(n-o,i)];case ir.Bottom:return[e,n+to(o-n,i)]}}function no({sourceX:t,sourceY:e,sourcePosition:n=ir.Bottom,targetX:r,targetY:o,targetPosition:i=ir.Top,curvature:a=.25}){const[s,u]=eo({pos:n,x1:t,y1:e,x2:r,y2:o,c:a}),[c,l]=eo({pos:i,x1:r,y1:o,x2:t,y2:e,c:a}),[d,h,f,p]=Jr({sourceX:t,sourceY:e,targetX:r,targetY:o,sourceControlX:s,sourceControlY:u,targetControlX:c,targetControlY:l});return[`M${t},${e} C${s},${u} ${c},${l} ${r},${o}`,d,h,f,p]}function ro({sourceX:t,sourceY:e,targetX:n,targetY:r}){const o=Math.abs(n-t)/2,i=n<t?n+o:n-o,a=Math.abs(r-e)/2;return[i,r<e?r+a:r-a,o,a]}function oo({sourceNode:t,targetNode:e,selected:n=!1,zIndex:r=0,elevateOnSelect:o=!1}){if(!o)return r;const i=n||e.selected||t.selected,a=Math.max(t.internals.z||0,e.internals.z||0,1e3);return r+(i?a:0)}function io({sourceNode:t,targetNode:e,width:n,height:r,transform:o}){const i=Nr(Lr(t),Lr(e));i.x===i.x2&&(i.x2+=1),i.y===i.y2&&(i.y2+=1);const a={x:-o[0]/o[2],y:-o[1]/o[2],width:n/o[2],height:r/o[2]};return Pr(a,Sr(i))>0}const ao=({source:t,sourceHandle:e,target:n,targetHandle:r})=>`xy-edge__${t}${e||""}-${n}${r||""}`,so=(t,e)=>{if(!t.source||!t.target)return kr("006",Kn.error006()),e;let n;return n=ur(t)?{...t}:{...t,id:ao(t)},((t,e)=>e.some((e=>!(e.source!==t.source||e.target!==t.target||e.sourceHandle!==t.sourceHandle&&(e.sourceHandle||t.sourceHandle)||e.targetHandle!==t.targetHandle&&(e.targetHandle||t.targetHandle)))))(n,e)?e:(null===n.sourceHandle&&delete n.sourceHandle,null===n.targetHandle&&delete n.targetHandle,e.concat(n))};function uo({sourceX:t,sourceY:e,targetX:n,targetY:r}){const[o,i,a,s]=ro({sourceX:t,sourceY:e,targetX:n,targetY:r});return[`M ${t},${e}L ${n},${r}`,o,i,a,s]}const co={[ir.Left]:{x:-1,y:0},[ir.Right]:{x:1,y:0},[ir.Top]:{x:0,y:-1},[ir.Bottom]:{x:0,y:1}},lo=({source:t,sourcePosition:e=ir.Bottom,target:n})=>e===ir.Left||e===ir.Right?t.x<n.x?{x:1,y:0}:{x:-1,y:0}:t.y<n.y?{x:0,y:1}:{x:0,y:-1},ho=(t,e)=>Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2));function fo({sourceX:t,sourceY:e,sourcePosition:n=ir.Bottom,targetX:r,targetY:o,targetPosition:i=ir.Top,borderRadius:a=5,centerX:s,centerY:u,offset:c=20}){const[l,d,h,f,p]=function({source:t,sourcePosition:e=ir.Bottom,target:n,targetPosition:r=ir.Top,center:o,offset:i}){const a=co[e],s=co[r],u={x:t.x+a.x*i,y:t.y+a.y*i},c={x:n.x+s.x*i,y:n.y+s.y*i},l=lo({source:u,sourcePosition:e,target:c}),d=0!==l.x?"x":"y",h=l[d];let f,p,m=[];const g={x:0,y:0},y={x:0,y:0},[v,M,x,w]=ro({sourceX:t.x,sourceY:t.y,targetX:n.x,targetY:n.y});if(a[d]*s[d]==-1){f=o.x??v,p=o.y??M;const t=[{x:f,y:u.y},{x:f,y:c.y}],e=[{x:u.x,y:p},{x:c.x,y:p}];m=a[d]===h?"x"===d?t:e:"x"===d?e:t}else{const o=[{x:u.x,y:c.y}],l=[{x:c.x,y:u.y}];if(m="x"===d?a.x===h?l:o:a.y===h?o:l,e===r){const e=Math.abs(t[d]-n[d]);if(e<=i){const r=Math.min(i-1,i-e);a[d]===h?g[d]=(u[d]>t[d]?-1:1)*r:y[d]=(c[d]>n[d]?-1:1)*r}}if(e!==r){const t="x"===d?"y":"x",e=a[d]===s[t],n=u[t]>c[t],r=u[t]<c[t];(1===a[d]&&(!e&&n||e&&r)||1!==a[d]&&(!e&&r||e&&n))&&(m="x"===d?o:l)}const v={x:u.x+g.x,y:u.y+g.y},M={x:c.x+y.x,y:c.y+y.y};Math.max(Math.abs(v.x-m[0].x),Math.abs(M.x-m[0].x))>=Math.max(Math.abs(v.y-m[0].y),Math.abs(M.y-m[0].y))?(f=(v.x+M.x)/2,p=m[0].y):(f=m[0].x,p=(v.y+M.y)/2)}return[[t,{x:u.x+g.x,y:u.y+g.y},...m,{x:c.x+y.x,y:c.y+y.y},n],f,p,x,w]}({source:{x:t,y:e},sourcePosition:n,target:{x:r,y:o},targetPosition:i,center:{x:s,y:u},offset:c}),m=l.reduce(((t,e,n)=>{let r="";return r=n>0&&n<l.length-1?function(t,e,n,r){const o=Math.min(ho(t,e)/2,ho(e,n)/2,r),{x:i,y:a}=e;if(t.x===i&&i===n.x||t.y===a&&a===n.y)return`L${i} ${a}`;if(t.y===a)return`L ${i+o*(t.x<n.x?-1:1)},${a}Q ${i},${a} ${i},${a+o*(t.y<n.y?1:-1)}`;const s=t.x<n.x?1:-1;return`L ${i},${a+o*(t.y<n.y?-1:1)}Q ${i},${a} ${i+o*s},${a}`}(l[n-1],e,l[n+1],a):`${0===n?"M":"L"}${e.x} ${e.y}`,t+=r}),"");return[m,d,h,f,p]}function po(t){return t&&!(!t.internals.handleBounds&&!t.handles?.length)&&!!(t.measured.width||t.width||t.initialWidth)}function mo(t){const{sourceNode:e,targetNode:n}=t;if(!po(e)||!po(n))return null;const r=e.internals.handleBounds||go(e.handles),o=n.internals.handleBounds||go(n.handles),i=vo(r?.source??[],t.sourceHandle),a=vo(t.connectionMode===Jn.Strict?o?.target??[]:(o?.target??[]).concat(o?.source??[]),t.targetHandle);if(!i||!a)return t.onError?.("008",Kn.error008(i?"target":"source",{id:t.id,sourceHandle:t.sourceHandle,targetHandle:t.targetHandle})),null;const s=i?.position||ir.Bottom,u=a?.position||ir.Top,c=yo(e,i,s),l=yo(n,a,u);return{sourceX:c.x,sourceY:c.y,targetX:l.x,targetY:l.y,sourcePosition:s,targetPosition:u}}function go(t){if(!t)return null;const e=[],n=[];for(const r of t)r.width=r.width??1,r.height=r.height??1,"source"===r.type?e.push(r):"target"===r.type&&n.push(r);return{source:e,target:n}}function yo(t,e,n=ir.Left,r=!1){const o=(e?.x??0)+t.internals.positionAbsolute.x,i=(e?.y??0)+t.internals.positionAbsolute.y,{width:a,height:s}=e??$r(t);if(r)return{x:o+a/2,y:i+s/2};switch(e?.position??n){case ir.Top:return{x:o+a/2,y:i};case ir.Right:return{x:o+a,y:i+s/2};case ir.Bottom:return{x:o+a/2,y:i+s};case ir.Left:return{x:o,y:i+s/2}}}function vo(t,e){return t&&(e?t.find((t=>t.id===e)):t[0])||null}function Mo(t,e){if(!t)return"";if("string"==typeof t)return t;return`${e?`${e}__`:""}${Object.keys(t).sort().map((e=>`${e}=${t[e]}`)).join("&")}`}function xo(t,{id:e,defaultColor:n,defaultMarkerStart:r,defaultMarkerEnd:o}){const i=new Set;return t.reduce(((t,a)=>([a.markerStart||r,a.markerEnd||o].forEach((r=>{if(r&&"object"==typeof r){const o=Mo(r,e);i.has(o)||(t.push({id:o,color:r.color||n,...r}),i.add(o))}})),t)),[]).sort(((t,e)=>t.id.localeCompare(e.id)))}const wo={nodeOrigin:[0,0],nodeExtent:Un,elevateNodesOnSelect:!0,defaults:{}},Eo={...wo,checkEquality:!0};function bo(t,e){const n={...t};for(const t in e)void 0!==e[t]&&(n[t]=e[t]);return n}function _o(t,e,n){const r=bo(wo,n);for(const n of t.values())if(n.parentId)Co(n,t,e,r);else{const t=dr(n,r.nodeOrigin),e=Hr(n.extent)?n.extent:r.nodeExtent,o=wr(t,e,$r(n));n.internals.positionAbsolute=o}}function No(t,e,n,r){const o=bo(Eo,r),i=new Map(e),a=o?.elevateNodesOnSelect?1e3:0;e.clear(),n.clear();for(const s of t){let t=i.get(s.id);if(o.checkEquality&&s===t?.internals.userNode)e.set(s.id,t);else{const n=dr(s,o.nodeOrigin),r=Hr(s.extent)?s.extent:o.nodeExtent,i=wr(n,r,$r(s));t={...o.defaults,...s,measured:{width:s.measured?.width,height:s.measured?.height},internals:{positionAbsolute:i,handleBounds:s.measured?t?.internals.handleBounds:void 0,z:So(s,a),userNode:s}},e.set(s.id,t)}s.parentId&&Co(t,e,n,r)}}function Co(t,e,n,r){const{elevateNodesOnSelect:o,nodeOrigin:i,nodeExtent:a}=bo(wo,r),s=t.parentId,u=e.get(s);if(!u)return void console.warn(`Parent node ${s} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);!function(t,e){if(!t.parentId)return;const n=e.get(t.parentId);n?n.set(t.id,t):e.set(t.parentId,new Map([[t.id,t]]))}(t,n);const c=o?1e3:0,{x:l,y:d,z:h}=function(t,e,n,r,o){const{x:i,y:a}=e.internals.positionAbsolute,s=$r(t),u=dr(t,n),c=Hr(t.extent)?wr(u,t.extent,s):u;let l=wr({x:i+c.x,y:a+c.y},r,s);"parent"===t.extent&&(l=Er(l,s,e));const d=So(t,o),h=e.internals.z??0;return{x:l.x,y:l.y,z:h>d?h:d}}(t,u,i,a,c),{positionAbsolute:f}=t.internals,p=l!==f.x||d!==f.y;(p||h!==t.internals.z)&&e.set(t.id,{...t,internals:{...t.internals,positionAbsolute:p?{x:l,y:d}:f,z:h}})}function So(t,e){return(Tr(t.zIndex)?t.zIndex:0)+(t.selected?e:0)}function Fo(t,e,n,r=[0,0]){const o=[],i=new Map;for(const n of t){const t=e.get(n.parentId);if(!t)continue;const r=i.get(n.parentId)?.expandedRect??Fr(t),o=Ar(r,n.rect);i.set(n.parentId,{expandedRect:o,parent:t})}return i.size>0&&i.forEach((({expandedRect:e,parent:i},a)=>{const s=i.internals.positionAbsolute,u=$r(i),c=i.origin??r,l=e.x<s.x?Math.round(Math.abs(s.x-e.x)):0,d=e.y<s.y?Math.round(Math.abs(s.y-e.y)):0,h=Math.max(u.width,Math.round(e.width)),f=Math.max(u.height,Math.round(e.height)),p=(h-u.width)*c[0],m=(f-u.height)*c[1];(l>0||d>0||p||m)&&(o.push({id:a,type:"position",position:{x:i.position.x-l+p,y:i.position.y-d+m}}),n.get(a)?.forEach((e=>{t.some((t=>t.id===e.id))||o.push({id:e.id,type:"position",position:{x:e.position.x+l,y:e.position.y+d}})}))),(u.width<e.width||u.height<e.height||l||d)&&o.push({id:a,type:"dimensions",setAttributes:!0,dimensions:{width:h+(l?c[0]*l-p:0),height:f+(d?c[1]*d-m:0)}})})),o}function Lo(t,e,n,r,o,i){const a=r?.querySelector(".xyflow__viewport");let s=!1;if(!a)return{changes:[],updatedInternals:s};const u=[],c=window.getComputedStyle(a),{m22:l}=new window.DOMMatrixReadOnly(c.transform),d=[];for(const r of t.values()){const t=e.get(r.id);if(!t)continue;if(t.hidden){e.set(t.id,{...t,internals:{...t.internals,handleBounds:void 0}}),s=!0;continue}const a=qr(r.nodeElement),c=t.measured.width!==a.width||t.measured.height!==a.height;if(!(!a.width||!a.height||!c&&t.internals.handleBounds&&!r.force)){const h=r.nodeElement.getBoundingClientRect(),f=Hr(t.extent)?t.extent:i;let{positionAbsolute:p}=t.internals;t.parentId&&"parent"===t.extent?p=Er(p,a,e.get(t.parentId)):f&&(p=wr(p,f,a));const m={...t,measured:a,internals:{...t.internals,positionAbsolute:p,handleBounds:{source:Qr("source",r.nodeElement,h,l,t.id),target:Qr("target",r.nodeElement,h,l,t.id)}}};e.set(t.id,m),t.parentId&&Co(m,e,n,{nodeOrigin:o}),s=!0,c&&(u.push({id:t.id,type:"dimensions",dimensions:a}),t.expandParent&&t.parentId&&d.push({id:t.id,parentId:t.parentId,rect:Fr(m,o)}))}}if(d.length>0){const t=Fo(d,e,n,o);u.push(...t)}return{changes:u,updatedInternals:s}}async function Ao({delta:t,panZoom:e,transform:n,translateExtent:r,width:o,height:i}){if(!e||!t.x&&!t.y)return Promise.resolve(!1);const a=await e.setViewportConstrained({x:n[0]+t.x,y:n[1]+t.y,zoom:n[2]},[[0,0],[o,i]],r),s=!!a&&(a.x!==n[0]||a.y!==n[1]||a.k!==n[2]);return Promise.resolve(s)}function Po(t,e,n,r,o,i){let a=o;const s=r.get(a)||new Map;r.set(a,s.set(n,e)),a=`${o}-${t}`;const u=r.get(a)||new Map;if(r.set(a,u.set(n,e)),i){a=`${o}-${t}-${i}`;const s=r.get(a)||new Map;r.set(a,s.set(n,e))}}function Bo(t,e,n){t.clear(),e.clear();for(const r of n){const{source:n,target:o,sourceHandle:i=null,targetHandle:a=null}=r,s={edgeId:r.id,source:n,target:o,sourceHandle:i,targetHandle:a},u=`${n}-${i}--${o}-${a}`;Po("source",s,`${o}-${a}--${n}-${i}`,t,n,i),Po("target",s,u,t,o,a),e.set(r.id,r)}}function To(t,e){if(!t.parentId)return!1;const n=e.get(t.parentId);return!!n&&(!!n.selected||To(n,e))}function ko(t,e,n){let r=t;do{if(r?.matches?.(e))return!0;if(r===n)return!1;r=r?.parentElement}while(r);return!1}function Yo({nodeId:t,dragItems:e,nodeLookup:n,dragging:r=!0}){const o=[];for(const[t,i]of e){const e=n.get(t)?.internals.userNode;e&&o.push({...e,position:i.position,dragging:r})}if(!t)return[o[0],o];const i=n.get(t)?.internals.userNode;return[i?{...i,position:e.get(t)?.position||i.position,dragging:r}:o[0],o]}function Io({onNodeMouseDown:t,getStoreItems:e,onDragStart:n,onDrag:r,onDragStop:o}){let i={x:null,y:null},a=0,s=new Map,u=!1,c={x:0,y:0},l=null,d=!1,h=null,f=!1;return{update:function({noDragClassName:p,handleSelector:m,domNode:g,isSelectable:y,nodeId:v,nodeClickDistance:M=0}){function x({x:t,y:n},o){const{nodeLookup:a,nodeExtent:u,snapGrid:c,snapToGrid:l,nodeOrigin:d,onNodeDrag:h,onSelectionDrag:f,onError:p,updateNodePositions:m}=e();i={x:t,y:n};let g=!1,y={x:0,y:0,x2:0,y2:0};if(s.size>1&&u){const t=fr(s);y=Cr(t)}for(const[e,r]of s){if(!a.has(e))continue;let o={x:t-r.distance.x,y:n-r.distance.y};l&&(o=Yr(o,c));let i=[[u[0][0],u[0][1]],[u[1][0],u[1][1]]];if(s.size>1&&u&&!r.extent){const{positionAbsolute:t}=r.internals,e=t.x-y.x+u[0][0],n=t.x+r.measured.width-y.x2+u[1][0];i=[[e,t.y-y.y+u[0][1]],[n,t.y+r.measured.height-y.y2+u[1][1]]]}const{position:h,positionAbsolute:f}=vr({nodeId:e,nextPosition:o,nodeLookup:a,nodeExtent:i,nodeOrigin:d,onError:p});g=g||r.position.x!==h.x||r.position.y!==h.y,r.position=h,r.internals.positionAbsolute=f}if(g&&(m(s,!0),o&&(r||h||!v&&f))){const[t,e]=Yo({nodeId:v,dragItems:s,nodeLookup:a});r?.(o,s,t,e),h?.(o,t,e),v||f?.(o,e)}}async function w(){if(!l)return;const{transform:t,panBy:n,autoPanSpeed:r,autoPanOnNodeDrag:o}=e();if(!o)return u=!1,void cancelAnimationFrame(a);const[s,d]=_r(c,l,r);0===s&&0===d||(i.x=(i.x??0)-s/t[2],i.y=(i.y??0)-d/t[2],await n({x:s,y:d})&&x(i,null)),a=requestAnimationFrame(w)}function E(r){const{nodeLookup:o,multiSelectionActive:a,nodesDraggable:u,transform:c,snapGrid:h,snapToGrid:f,selectNodesOnDrag:p,onNodeDragStart:m,onSelectionDragStart:g,unselectNodesAndEdges:M}=e();d=!0,p&&y||a||!v||o.get(v)?.selected||M(),y&&p&&v&&t?.(v);const x=Vr(r.sourceEvent,{transform:c,snapGrid:h,snapToGrid:f,containerBounds:l});if(i=x,s=function(t,e,n,r){const o=new Map;for(const[i,a]of t)if((a.selected||a.id===r)&&(!a.parentId||!To(a,t))&&(a.draggable||e&&void 0===a.draggable)){const e=t.get(i);e&&o.set(i,{id:i,position:e.position||{x:0,y:0},distance:{x:n.x-e.internals.positionAbsolute.x,y:n.y-e.internals.positionAbsolute.y},extent:e.extent,parentId:e.parentId,origin:e.origin,expandParent:e.expandParent,internals:{positionAbsolute:e.internals.positionAbsolute||{x:0,y:0}},measured:{width:e.measured.width??0,height:e.measured.height??0}})}return o}(o,u,x,v),s.size>0&&(n||m||!v&&g)){const[t,e]=Yo({nodeId:v,dragItems:s,nodeLookup:o});n?.(r.sourceEvent,s,t,e),m?.(r.sourceEvent,t,e),v||g?.(r.sourceEvent,e)}}h=Et(g);const b=It().clickDistance(M).on("start",(t=>{const{domNode:n,nodeDragThreshold:r,transform:o,snapGrid:a,snapToGrid:s}=e();l=n?.getBoundingClientRect()||null,f=!1,0===r&&E(t);const u=Vr(t.sourceEvent,{transform:o,snapGrid:a,snapToGrid:s,containerBounds:l});i=u,c=Ur(t.sourceEvent,l)})).on("drag",(t=>{const{autoPanOnNodeDrag:n,transform:r,snapGrid:o,snapToGrid:a,nodeDragThreshold:h,nodeLookup:p}=e(),m=Vr(t.sourceEvent,{transform:r,snapGrid:o,snapToGrid:a,containerBounds:l});if(("touchmove"===t.sourceEvent.type&&t.sourceEvent.touches.length>1||v&&!p.has(v))&&(f=!0),!f){if(!u&&n&&d&&(u=!0,w()),!d){const e=m.xSnapped-(i.x??0),n=m.ySnapped-(i.y??0);Math.sqrt(e*e+n*n)>h&&E(t)}(i.x!==m.xSnapped||i.y!==m.ySnapped)&&s&&d&&(c=Ur(t.sourceEvent,l),x(m,t.sourceEvent))}})).on("end",(t=>{if(d&&!f&&(u=!1,d=!1,cancelAnimationFrame(a),s.size>0)){const{nodeLookup:n,updateNodePositions:r,onNodeDragStop:i,onSelectionDragStop:a}=e();if(r(s,!1),o||i||!v&&a){const[e,r]=Yo({nodeId:v,dragItems:s,nodeLookup:n,dragging:!1});o?.(t.sourceEvent,s,e,r),i?.(t.sourceEvent,e,r),v||a?.(t.sourceEvent,r)}}})).filter((t=>{const e=t.target;return!t.button&&(!p||!ko(e,`.${p}`,g))&&(!m||ko(e,m,g))}));h.call(b)},destroy:function(){h?.on(".drag",null)}}}function Do(t,e,n,r){let o=[],i=1/0;const a=function(t,e,n){const r=[],o={x:t.x-n,y:t.y-n,width:2*n,height:2*n};for(const t of e.values())Pr(o,Fr(t))>0&&r.push(t);return r}(t,n,e+250);for(const n of a){const a=[...n.internals.handleBounds?.source??[],...n.internals.handleBounds?.target??[]];for(const s of a){if(r.nodeId===s.nodeId&&r.type===s.type&&r.id===s.id)continue;const{x:a,y:u}=yo(n,s,s.position,!0),c=Math.sqrt(Math.pow(a-t.x,2)+Math.pow(u-t.y,2));c>e||(c<i?(o=[{...s,x:a,y:u}],i=c):c===i&&o.push({...s,x:a,y:u}))}}if(!o.length)return null;if(o.length>1){const t="source"===r.type?"target":"source";return o.find((e=>e.type===t))??o[0]}return o[0]}function zo(t,e,n,r,o,i=!1){const a=r.get(t);if(!a)return null;const s="strict"===o?a.internals.handleBounds?.[e]:[...a.internals.handleBounds?.source??[],...a.internals.handleBounds?.target??[]],u=(n?s?.find((t=>t.id===n)):s?.[0])??null;return u&&i?{...u,...yo(a,u,u.position,!0)}:u}function Go(t,e){return t||(e?.classList.contains("target")?"target":e?.classList.contains("source")?"source":null)}const Ho=()=>!0;function $o(t,{handle:e,connectionMode:n,fromNodeId:r,fromHandleId:o,fromType:i,doc:a,lib:s,flowId:u,isValidConnection:c=Ho,nodeLookup:l}){const d="target"===i,h=e?a.querySelector(`.${s}-flow__handle[data-id="${u}-${e?.nodeId}-${e?.id}-${e?.type}"]`):null,{x:f,y:p}=Ur(t),m=a.elementFromPoint(f,p),g=m?.classList.contains(`${s}-flow__handle`)?m:h,y={handleDomNode:g,isValid:!1,connection:null,toHandle:null};if(g){const t=Go(void 0,g),e=g.getAttribute("data-nodeid"),i=g.getAttribute("data-handleid"),a=g.classList.contains("connectable"),s=g.classList.contains("connectableend");if(!e||!t)return y;const u={source:d?e:r,sourceHandle:d?i:o,target:d?r:e,targetHandle:d?o:i};y.connection=u;const h=a&&s&&(n===Jn.Strict?d&&"source"===t||!d&&"target"===t:e!==r||i!==o);y.isValid=h&&c(u),y.toHandle=zo(e,t,i,l,n,!1)}return y}const Oo={onPointerDown:function(t,{connectionMode:e,connectionRadius:n,handleId:r,nodeId:o,edgeUpdaterType:i,isTarget:a,domNode:s,nodeLookup:u,lib:c,autoPanOnConnect:l,flowId:d,panBy:h,cancelConnection:f,onConnectStart:p,onConnect:m,onConnectEnd:g,isValidConnection:y=Ho,onReconnectEnd:v,updateConnection:M,getTransform:x,getFromHandle:w,autoPanSpeed:E}){const b=jr(t.target);let _,N=0;const{x:C,y:S}=Ur(t),F=b?.elementFromPoint(C,S),L=Go(i,F),A=s?.getBoundingClientRect();if(!A||!L)return;const P=zo(o,L,r,u,e);if(!P)return;let B=Ur(t,A),T=!1,k=null,Y=!1,I=null;function D(){if(!l||!A)return;const[t,e]=_r(B,A,E);h({x:t,y:e}),N=requestAnimationFrame(D)}const z={...P,nodeId:o,type:L,position:P.position},G=u.get(o),H={inProgress:!0,isValid:null,from:yo(G,z,ir.Left,!0),fromHandle:z,fromPosition:z.position,fromNode:G,to:B,toHandle:null,toPosition:ar[z.position],toNode:null};M(H);let $=H;function O(t){if(!w()||!z)return void R(t);const i=x();B=Ur(t,A),_=Do(Ir(B,i,!1,[1,1]),n,u,z),T||(D(),T=!0);const s=$o(t,{handle:_,connectionMode:e,fromNodeId:o,fromHandleId:r,fromType:a?"target":"source",isValidConnection:y,doc:b,lib:c,flowId:d,nodeLookup:u});I=s.handleDomNode,k=s.connection,Y=function(t,e){let n=null;return e?n=!0:t&&!e&&(n=!1),n}(!!_,s.isValid);const l={...$,isValid:Y,to:_&&Y?Dr({x:_.x,y:_.y},i):B,toHandle:s.toHandle,toPosition:Y&&s.toHandle?s.toHandle.position:ar[z.position],toNode:s.toHandle?u.get(s.toHandle.nodeId):null};Y&&_&&$.toHandle&&l.toHandle&&$.toHandle.type===l.toHandle.type&&$.toHandle.nodeId===l.toHandle.nodeId&&$.toHandle.id===l.toHandle.id&&$.to.x===l.to.x&&$.to.y===l.to.y||(M(l),$=l)}function R(t){(_||I)&&k&&Y&&m?.(k);const{inProgress:e,...n}=$,r={...n,toPosition:$.toHandle?$.toPosition:null};g?.(t,r),i&&v?.(t,r),f(),cancelAnimationFrame(N),T=!1,Y=!1,k=null,I=null,b.removeEventListener("mousemove",O),b.removeEventListener("mouseup",R),b.removeEventListener("touchmove",O),b.removeEventListener("touchend",R)}p?.(t,{nodeId:o,handleId:r,handleType:L}),b.addEventListener("mousemove",O),b.addEventListener("mouseup",R),b.addEventListener("touchmove",O),b.addEventListener("touchend",R)},isValid:$o};function Ro({domNode:t,panZoom:e,getTransform:n,getViewScale:r}){const o=Et(t);return{update:function({translateExtent:t,width:i,height:a,zoomStep:s=10,pannable:u=!0,zoomable:c=!0,inversePan:l=!1}){let d=[0,0];const h=Wn().on("start",(t=>{"mousedown"!==t.sourceEvent.type&&"touchstart"!==t.sourceEvent.type||(d=[t.sourceEvent.clientX??t.sourceEvent.touches[0].clientX,t.sourceEvent.clientY??t.sourceEvent.touches[0].clientY])})).on("zoom",u?o=>{const s=n();if("mousemove"!==o.sourceEvent.type&&"touchmove"!==o.sourceEvent.type||!e)return;const u=[o.sourceEvent.clientX??o.sourceEvent.touches[0].clientX,o.sourceEvent.clientY??o.sourceEvent.touches[0].clientY],c=[u[0]-d[0],u[1]-d[1]];d=u;const h=r()*Math.max(s[2],Math.log(s[2]))*(l?-1:1),f={x:s[0]-c[0]*h,y:s[1]-c[1]*h},p=[[0,0],[i,a]];e.setViewportConstrained({x:f.x,y:f.y,zoom:s[2]},p,t)}:null).on("zoom.wheel",c?t=>{const r=n();if("wheel"!==t.sourceEvent.type||!e)return;const o=-t.sourceEvent.deltaY*(1===t.sourceEvent.deltaMode?.05:t.sourceEvent.deltaMode?1:.002)*s,i=r[2]*Math.pow(2,o);e.scaleTo(i)}:null);o.call(h,{})},destroy:function(){o.on("zoom",null)},pointer:bt}}const Xo=(t,e)=>t.x!==e.x||t.y!==e.y||t.zoom!==e.k,Vo=t=>({x:t.x,y:t.y,zoom:t.k}),qo=({x:t,y:e,zoom:n})=>Gn.translate(t,e).scale(n),jo=(t,e)=>t.target.closest(`.${e}`),Zo=(t,e)=>2===e&&Array.isArray(t)&&t.includes(2),Wo=(t,e=0,n=()=>{})=>{const r="number"==typeof e&&e>0;return r||n(),r?t.transition().duration(e).on("end",n):t},Ko=t=>{const e=t.ctrlKey&&Gr()?10:1;return-t.deltaY*(1===t.deltaMode?.05:t.deltaMode?1:.002)*e};function Uo({domNode:t,minZoom:e,maxZoom:n,paneClickDistance:r,translateExtent:o,viewport:i,onPanZoom:a,onPanZoomStart:s,onPanZoomEnd:u,onDraggingChange:c}){const l={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{x:0,y:0,zoom:0},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},d=t.getBoundingClientRect(),h=Wn().clickDistance(!Tr(r)||r<0?0:r).scaleExtent([e,n]).translateExtent(o),f=Et(t).call(h);v({x:i.x,y:i.y,zoom:xr(i.zoom,e,n)},[[0,0],[d.width,d.height]],o);const p=f.on("wheel.zoom"),m=f.on("dblclick.zoom");function g(t,e){return f?new Promise((n=>{h?.transform(Wo(f,e?.duration,(()=>n(!0))),t)})):Promise.resolve(!1)}function y(){h.on("zoom",null)}async function v(t,e,n){const r=qo(t),o=h?.constrain()(r,e,n);return o&&await g(o),new Promise((t=>t(o)))}return h.wheelDelta(Ko),{update:function({noWheelClassName:t,noPanClassName:e,onPaneContextMenu:n,userSelectionActive:r,panOnScroll:o,panOnDrag:i,panOnScrollMode:d,panOnScrollSpeed:g,preventScrolling:v,zoomOnPinch:M,zoomOnScroll:x,zoomOnDoubleClick:w,zoomActivationKeyPressed:E,lib:b,onTransformChange:_}){r&&!l.isZoomingOrPanning&&y();const N=o&&!E&&!r?function({zoomPanValues:t,noWheelClassName:e,d3Selection:n,d3Zoom:r,panOnScrollMode:o,panOnScrollSpeed:i,zoomOnPinch:a,onPanZoomStart:s,onPanZoom:u,onPanZoomEnd:c}){return l=>{if(jo(l,e))return!1;l.preventDefault(),l.stopImmediatePropagation();const d=n.property("__zoom").k||1;if(l.ctrlKey&&a){const t=bt(l),e=Ko(l),o=d*Math.pow(2,e);return void r.scaleTo(n,o,t,l)}const h=1===l.deltaMode?20:1;let f=o===tr.Vertical?0:l.deltaX*h,p=o===tr.Horizontal?0:l.deltaY*h;!Gr()&&l.shiftKey&&o!==tr.Vertical&&(f=l.deltaY*h,p=0),r.translateBy(n,-f/d*i,-p/d*i,{internal:!0});const m=Vo(n.property("__zoom"));clearTimeout(t.panScrollTimeout),t.isPanScrolling||(t.isPanScrolling=!0,s?.(l,m)),t.isPanScrolling&&(u?.(l,m),t.panScrollTimeout=setTimeout((()=>{c?.(l,m),t.isPanScrolling=!1}),150))}}({zoomPanValues:l,noWheelClassName:t,d3Selection:f,d3Zoom:h,panOnScrollMode:d,panOnScrollSpeed:g,zoomOnPinch:M,onPanZoomStart:s,onPanZoom:a,onPanZoomEnd:u}):function({noWheelClassName:t,preventScrolling:e,d3ZoomHandler:n}){return function(r,o){if(!e&&"wheel"===r.type&&!r.ctrlKey||jo(r,t))return null;r.preventDefault(),n.call(this,r,o)}}({noWheelClassName:t,preventScrolling:v,d3ZoomHandler:p});if(f.on("wheel.zoom",N,{passive:!1}),!r){const t=function({zoomPanValues:t,onDraggingChange:e,onPanZoomStart:n}){return r=>{if(r.sourceEvent?.internal)return;const o=Vo(r.transform);t.mouseButton=r.sourceEvent?.button||0,t.isZoomingOrPanning=!0,t.prevViewport=o,"mousedown"===r.sourceEvent?.type&&e(!0),n&&n?.(r.sourceEvent,o)}}({zoomPanValues:l,onDraggingChange:c,onPanZoomStart:s});h.on("start",t);const e=function({zoomPanValues:t,panOnDrag:e,onPaneContextMenu:n,onTransformChange:r,onPanZoom:o}){return i=>{t.usedRightMouseButton=!(!n||!Zo(e,t.mouseButton??0)),i.sourceEvent?.sync||r([i.transform.x,i.transform.y,i.transform.k]),o&&!i.sourceEvent?.internal&&o?.(i.sourceEvent,Vo(i.transform))}}({zoomPanValues:l,panOnDrag:i,onPaneContextMenu:!!n,onPanZoom:a,onTransformChange:_});h.on("zoom",e);const r=function({zoomPanValues:t,panOnDrag:e,panOnScroll:n,onDraggingChange:r,onPanZoomEnd:o,onPaneContextMenu:i}){return a=>{if(!a.sourceEvent?.internal&&(t.isZoomingOrPanning=!1,i&&Zo(e,t.mouseButton??0)&&!t.usedRightMouseButton&&a.sourceEvent&&i(a.sourceEvent),t.usedRightMouseButton=!1,r(!1),o&&Xo(t.prevViewport,a.transform))){const e=Vo(a.transform);t.prevViewport=e,clearTimeout(t.timerId),t.timerId=setTimeout((()=>{o?.(a.sourceEvent,e)}),n?150:0)}}}({zoomPanValues:l,panOnDrag:i,panOnScroll:o,onPaneContextMenu:n,onPanZoomEnd:u,onDraggingChange:c});h.on("end",r)}const C=function({zoomActivationKeyPressed:t,zoomOnScroll:e,zoomOnPinch:n,panOnDrag:r,panOnScroll:o,zoomOnDoubleClick:i,userSelectionActive:a,noWheelClassName:s,noPanClassName:u,lib:c}){return l=>{const d=t||e,h=n&&l.ctrlKey;if(1===l.button&&"mousedown"===l.type&&(jo(l,`${c}-flow__node`)||jo(l,`${c}-flow__edge`)))return!0;if(!(r||d||o||i||n))return!1;if(a)return!1;if(jo(l,s)&&"wheel"===l.type)return!1;if(jo(l,u)&&("wheel"!==l.type||o&&"wheel"===l.type&&!t))return!1;if(!n&&l.ctrlKey&&"wheel"===l.type)return!1;if(!n&&"touchstart"===l.type&&l.touches?.length>1)return l.preventDefault(),!1;if(!d&&!o&&!h&&"wheel"===l.type)return!1;if(!r&&("mousedown"===l.type||"touchstart"===l.type))return!1;if(Array.isArray(r)&&!r.includes(l.button)&&"mousedown"===l.type)return!1;const f=Array.isArray(r)&&r.includes(l.button)||!l.button||l.button<=1;return(!l.ctrlKey||"wheel"===l.type)&&f}}({zoomActivationKeyPressed:E,panOnDrag:i,zoomOnScroll:x,panOnScroll:o,zoomOnDoubleClick:w,zoomOnPinch:M,userSelectionActive:r,noPanClassName:e,noWheelClassName:t,lib:b});h.filter(C),w?f.on("dblclick.zoom",m):f.on("dblclick.zoom",null)},destroy:y,setViewport:async function(t,e){const n=qo(t);return await g(n,e),new Promise((t=>t(n)))},setViewportConstrained:v,getViewport:function(){const t=f?Hn(f.node()):{x:0,y:0,k:1};return{x:t.x,y:t.y,zoom:t.k}},scaleTo:function(t,e){return f?new Promise((n=>{h?.scaleTo(Wo(f,e?.duration,(()=>n(!0))),t)})):Promise.resolve(!1)},scaleBy:function(t,e){return f?new Promise((n=>{h?.scaleBy(Wo(f,e?.duration,(()=>n(!0))),t)})):Promise.resolve(!1)},setScaleExtent:function(t){h?.scaleExtent(t)},setTranslateExtent:function(t){h?.translateExtent(t)},syncViewport:function(t){if(f){const e=qo(t),n=f.property("__zoom");n.k===t.zoom&&n.x===t.x&&n.y===t.y||h?.transform(f,e,null,{sync:!0})}},setClickDistance:function(t){const e=!Tr(t)||t<0?0:t;h?.clickDistance(e)}}}var Qo;!function(t){t.Line="line",t.Handle="handle"}(Qo||(Qo={}));function Jo(t,e){return Math.max(0,e-t)}function ti(t,e){return Math.max(0,t-e)}function ei(t,e,n){return Math.max(0,e-t,t-n)}function ni(t,e){return t?!e:e}const ri={width:0,height:0,x:0,y:0},oi={...ri,pointerX:0,pointerY:0,aspectRatio:1};function ii(t,e,n){const r=e.position.x+t.position.x,o=e.position.y+t.position.y,i=t.measured.width??0,a=t.measured.height??0,s=n[0]*i,u=n[1]*a;return[[r-s,o-u],[r+i-s,o+a-u]]}function ai({domNode:t,nodeId:e,getStoreItems:n,onChange:r,onEnd:o}){const i=Et(t);return{update:function({controlPosition:t,boundaries:a,keepAspectRatio:s,onResizeStart:u,onResize:c,onResizeEnd:l,shouldResize:d}){let h={...ri},f={...oi};const p=function(t){return{isHorizontal:t.includes("right")||t.includes("left"),isVertical:t.includes("bottom")||t.includes("top"),affectsX:t.includes("left"),affectsY:t.includes("top")}}(t);let m,g,y,v,M=null,x=[];const w=It().on("start",(t=>{const{nodeLookup:r,transform:o,snapGrid:i,snapToGrid:a,nodeOrigin:s,paneDomNode:c}=n();if(m=r.get(e),!m)return;M=c?.getBoundingClientRect()??null;const{xSnapped:l,ySnapped:d}=Vr(t.sourceEvent,{transform:o,snapGrid:i,snapToGrid:a,containerBounds:M});h={width:m.measured.width??0,height:m.measured.height??0,x:m.position.x??0,y:m.position.y??0},f={...h,pointerX:l,pointerY:d,aspectRatio:h.width/h.height},g=void 0,m.parentId&&("parent"===m.extent||m.expandParent)&&(g=r.get(m.parentId),y=g&&"parent"===m.extent?function(t){return[[0,0],[t.measured.width,t.measured.height]]}(g):void 0),x=[],v=void 0;for(const[t,n]of r)if(n.parentId===e&&(x.push({id:t,position:{...n.position},extent:n.extent}),"parent"===n.extent||n.expandParent)){const t=ii(n,m,n.origin??s);v=v?[[Math.min(t[0][0],v[0][0]),Math.min(t[0][1],v[0][1])],[Math.max(t[1][0],v[1][0]),Math.max(t[1][1],v[1][1])]]:t}u?.(t,{...h})})).on("drag",(t=>{const{transform:e,snapGrid:o,snapToGrid:i,nodeOrigin:u}=n(),l=Vr(t.sourceEvent,{transform:e,snapGrid:o,snapToGrid:i,containerBounds:M}),w=[];if(!m)return;const{x:E,y:b,width:_,height:N}=h,C={},S=m.origin??u,{width:F,height:L,x:A,y:P}=function(t,e,n,r,o,i,a,s){let{affectsX:u,affectsY:c}=e;const{isHorizontal:l,isVertical:d}=e,h=l&&d,{xSnapped:f,ySnapped:p}=n,{minWidth:m,maxWidth:g,minHeight:y,maxHeight:v}=r,{x:M,y:x,width:w,height:E,aspectRatio:b}=t;let _=Math.floor(l?f-t.pointerX:0),N=Math.floor(d?p-t.pointerY:0);const C=w+(u?-_:_),S=E+(c?-N:N),F=-i[0]*w,L=-i[1]*E;let A=ei(C,m,g),P=ei(S,y,v);if(a){let t=0,e=0;u&&_<0?t=Jo(M+_+F,a[0][0]):!u&&_>0&&(t=ti(M+C+F,a[1][0])),c&&N<0?e=Jo(x+N+L,a[0][1]):!c&&N>0&&(e=ti(x+S+L,a[1][1])),A=Math.max(A,t),P=Math.max(P,e)}if(s){let t=0,e=0;u&&_>0?t=ti(M+_,s[0][0]):!u&&_<0&&(t=Jo(M+C,s[1][0])),c&&N>0?e=ti(x+N,s[0][1]):!c&&N<0&&(e=Jo(x+S,s[1][1])),A=Math.max(A,t),P=Math.max(P,e)}if(o){if(l){const t=ei(C/b,y,v)*b;if(A=Math.max(A,t),a){let t=0;t=!u&&!c||u&&!c&&h?ti(x+L+C/b,a[1][1])*b:Jo(x+L+(u?_:-_)/b,a[0][1])*b,A=Math.max(A,t)}if(s){let t=0;t=!u&&!c||u&&!c&&h?Jo(x+C/b,s[1][1])*b:ti(x+(u?_:-_)/b,s[0][1])*b,A=Math.max(A,t)}}if(d){const t=ei(S*b,m,g)/b;if(P=Math.max(P,t),a){let t=0;t=!u&&!c||c&&!u&&h?ti(M+S*b+F,a[1][0])/b:Jo(M+(c?N:-N)*b+F,a[0][0])/b,P=Math.max(P,t)}if(s){let t=0;t=!u&&!c||c&&!u&&h?Jo(M+S*b,s[1][0])/b:ti(M+(c?N:-N)*b,s[0][0])/b,P=Math.max(P,t)}}}N+=N<0?P:-P,_+=_<0?A:-A,o&&(h?C>S*b?N=(ni(u,c)?-_:_)/b:_=(ni(u,c)?-N:N)*b:l?(N=_/b,c=u):(_=N*b,u=c));const B=u?M+_:M,T=c?x+N:x;return{width:w+(u?-_:_),height:E+(c?-N:N),x:i[0]*_*(u?-1:1)+B,y:i[1]*N*(c?-1:1)+T}}(f,p,l,a,s,S,y,v),B=F!==_,T=L!==N,k=A!==E&&B,Y=P!==b&&T;if(!(k||Y||B||T))return;if((k||Y||1===S[0]||1===S[1])&&(C.x=k?A:h.x,C.y=Y?P:h.y,h.x=C.x,h.y=C.y,x.length>0)){const t=A-E,e=P-b;for(const n of x)n.position={x:n.position.x-t+S[0]*(F-_),y:n.position.y-e+S[1]*(L-N)},w.push(n)}if((B||T)&&(C.width=B?F:h.width,C.height=T?L:h.height,h.width=C.width,h.height=C.height),g&&m.expandParent){const t=S[0]*(C.width??0);C.x&&C.x<t&&(h.x=t,f.x=f.x-(C.x-t));const e=S[1]*(C.height??0);C.y&&C.y<e&&(h.y=e,f.y=f.y-(C.y-e))}const I=function({width:t,prevWidth:e,height:n,prevHeight:r,affectsX:o,affectsY:i}){const a=t-e,s=n-r,u=[a>0?1:a<0?-1:0,s>0?1:s<0?-1:0];return a&&o&&(u[0]=-1*u[0]),s&&i&&(u[1]=-1*u[1]),u}({width:h.width,prevWidth:_,height:h.height,prevHeight:N,affectsX:p.affectsX,affectsY:p.affectsY}),D={...h,direction:I},z=d?.(t,D);!1!==z&&(c?.(t,D),r(C,w))})).on("end",(t=>{l?.(t,{...h}),o?.()}));i.call(w)},destroy:function(){i.on(".drag",null)}}}},2774:function(t,e,n){n.d(e,{h:function(){return h},n:function(){return l}});var r=n(6540),o=n(9242);const i=t=>{let e;const n=new Set,r=(t,r)=>{const o="function"==typeof t?t(e):t;if(!Object.is(o,e)){const t=e;e=(null!=r?r:"object"!=typeof o||null===o)?o:Object.assign({},e,o),n.forEach((n=>n(e,t)))}},o=()=>e,i={setState:r,getState:o,getInitialState:()=>a,subscribe:t=>(n.add(t),()=>n.delete(t)),destroy:()=>{console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},a=e=t(r,o,i);return i},a=t=>t?i(t):i;const{useDebugValue:s}=r,{useSyncExternalStoreWithSelector:u}=o,c=t=>t;function l(t,e=c,n){const r=u(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,n);return s(r),r}const d=(t,e)=>{const n=a(t),r=(t,r=e)=>l(n,t,r);return Object.assign(r,n),r},h=(t,e)=>t?d(t,e):d},3402:function(t,e,n){function r(t,e){if(Object.is(t,e))return!0;if("object"!=typeof t||null===t||"object"!=typeof e||null===e)return!1;if(t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(const[n,r]of t)if(!Object.is(r,e.get(n)))return!1;return!0}if(t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0}const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(e,r)||!Object.is(t[r],e[r]))return!1;return!0}n.d(e,{x:function(){return r}})},3645:function(t,e,n){n.d(e,{Uw:function(){return u},Zp:function(){return c},e7:function(){return a},x7:function(){return i}});var r=n(7387),o=n(6540);const i=t=>{for(let e in t)return!1;return!0},a=t=>{let{condition:e,wrapper:n,children:r}=t;return e?n(r):r},s=o.createContext({setState:()=>{}});let u=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))||this).state={...e.props.initialState,setState:t=>e.setState(t)},e}return(0,r.A)(e,t),e.prototype.render=function(){return o.createElement(s.Provider,{value:this.state},o.createElement(o.Fragment,null,"function"==typeof this.props.children?this.props.children(this.state):this.props.children))},e}(o.Component);u.defaultProps={initialState:{}};let c=function(t){function e(){return t.apply(this,arguments)||this}return(0,r.A)(e,t),e.prototype.render=function(){const{children:t}=this.props;return o.createElement(s.Consumer,null,(e=>t(e)))},e}(o.Component)},5501:function(t){t.exports=JSON.parse('{"nodes":[{"id":"GEPCOMM","name":"Purposive Communications"},{"id":"FNDMATH","name":"Foundation Course in Mathematics","term":{"118":1,"119":1,"120":1,"121":1,"122":1,"123":1},"category":"engg"},{"id":"BASCHEM","name":"Basic Chemistry","term":{"118":1,"119":1,"120":1,"121":1,"122":1,"123":1},"tags":["with old resources"],"category":"engg"},{"id":"BASPHYS","name":"Basic Physics","term":{"118":1,"119":1,"120":1,"121":1,"122":1,"123":1},"category":"engg"},{"id":"FNDSTAT","name":"Foundation Course in Statistics","term":{"118":1,"119":1,"120":1,"121":1,"122":1,"123":1},"tags":["with old resources"],"category":"engg"},{"id":"LBYMF1A","name":"Engineering Measurement Laboratory","term":{"118":1,"119":1,"120":1,"121":1,"122":1,"123":1},"tags":["with old resources"]},{"id":"LBYME1A","name":"Engineering Drawing","term":{"118":2,"119":1,"120":1,"121":1,"122":1,"123":1},"tags":["with old resources"],"category":"engg"},{"id":"CALENG1","name":"Differential Calculus","term":{"118":2,"119":2,"120":2,"121":2,"122":2,"123":2},"tags":["with old resources"],"category":"engg"},{"id":"LBYME1B","name":"Engineering Computer Aided Drafting","term":{"118":3,"119":3,"120":2,"121":2,"122":2,"123":2}},{"id":"LBYEC2A","name":"Computer Fundamentals and Programming 1","term":{"118":2,"119":2,"120":2,"121":2,"122":2,"123":2},"category":"engg"},{"id":"LBYMF1B","name":"Machine Tools, Processes and Practice 1 Laboratory","term":{"118":2,"119":2,"120":2,"121":2,"122":2,"123":2},"tags":["workshop"]},{"id":"CALENG2","name":"Integral Calculus","term":{"118":3,"119":3,"120":3,"121":3,"122":3,"123":3},"category":"engg"},{"id":"ENGCHEM","name":"General Chemistry 1","term":{"118":2,"119":3,"120":3,"121":3,"122":3,"123":3},"category":"engg"},{"id":"LBYCH1A","name":"General Chemistry 1 Laboratory","term":{"118":2,"119":3,"120":3,"121":3,"122":3,"123":3},"category":"engg"},{"id":"MFMCPR1","name":"Machine Tools, Processes and Practice 2","term":{"118":3,"119":3,"120":3,"121":3,"122":3,"123":3}},{"id":"LBYMF1C","name":"Machine Tools, Processes and Practice 2 Laboratory","term":{"118":3,"119":3,"120":3,"121":3,"122":3,"123":3},"tags":["workshop"]},{"id":"LBYMF1D","name":"Computer Programming for MEM","term":{"118":3,"119":3,"120":3,"121":3,"122":3,"123":3}},{"id":"MFCAENG","name":"Computer-Aided Engineering","term":{"118":5,"119":5,"120":4,"121":4,"122":4,"123":4}},{"id":"LBYMF2B","name":"Computer-Aided Engineering Laboratory","term":{"118":5,"119":5,"120":4,"121":4,"122":4,"123":4}},{"id":"ENGDATA","name":"Engineering Data Analysis","term":{"118":3,"119":4,"120":4,"121":4,"122":4,"123":4},"category":"engg"},{"id":"MFMNGMT","name":"Engineering Management for MEM","term":{"118":5,"119":4,"120":4,"121":4,"122":4,"123":4}},{"id":"CALENG3","name":"Differential Equations","term":{"118":4,"119":4,"120":4,"121":4,"122":4,"123":4},"tags":["with old resources"],"category":"engg"},{"id":"ENGPHYS","name":"Engineering Physics 1","term":{"118":3,"119":4,"120":4,"121":4,"122":4,"123":4},"tags":["with old resources"],"category":"engg"},{"id":"LBYPH1A","name":"Engineering Physics 1 Laboratory","term":{"118":3,"119":4,"120":4,"121":4,"122":4,"123":4},"category":"engg"},{"id":"MFMCPR2","name":"Manufacturing Processes and Practice 3","term":{"118":4,"119":4,"120":4,"121":4,"122":4,"123":4}},{"id":"LBYMF2A","name":"Manufacturing Processes and Practice 3 Laboratory","term":{"118":4,"119":4,"120":4,"121":4,"122":4,"123":4},"tags":["with old resources"]},{"id":"ENGMEC1","name":"Statics Of Rigid Bodies","term":{"118":4,"119":5,"120":5,"121":5,"122":5,"123":5},"category":"engg"},{"id":"BASELCI","name":"Electrical Engineering Principles","term":{"118":4,"119":5,"120":5,"121":5,"122":5,"123":5},"tags":["with old resources"],"category":"engg"},{"id":"LBYEC2L","name":"Electrical Engineering Principles Lab for MEM","term":{"118":4,"119":5,"120":5,"121":5,"122":5,"123":5}},{"id":"MFTHSCI","name":"Thermal Science for MEM Students","term":{"118":6,"119":6,"120":5,"121":5,"122":5,"123":5}},{"id":"MFMTENG","name":"Materials Engineering","term":{"118":5,"119":5,"120":5,"121":5,"122":5,"123":5},"tags":["with old resources"]},{"id":"LBYMF2D","name":"Materials Engineering Laboratory","term":{"118":5,"119":5,"120":5,"121":5,"122":5,"123":5}},{"id":"MFADMAT","name":"Advanced Mathematics for MEM","term":{"118":5,"119":5,"120":5,"121":5,"122":5,"123":5},"tags":["with old resources"]},{"id":"LBYEC3B","name":"Intelligent Systems for Engineering","term":{"118":4,"119":5,"120":5,"121":5,"122":5,"123":5},"tags":["with old resources"],"category":"engg"},{"id":"ECNOMIC","name":"Engineering Economics","term":{"118":6,"119":6,"120":6,"121":6,"122":6,"123":6},"tags":["with old resources"],"category":"engg"},{"id":"ENGMEC2","name":"Dynamics of Rigid Bodies","term":{"118":5,"119":6,"120":6,"121":6,"122":6,"123":6},"category":"engg"},{"id":"MFANLOG","name":"Analog Electronics Design","term":{"118":5,"119":6,"120":6,"121":6,"122":6,"123":6}},{"id":"LBYMF2C","name":"Analog Design for MEM Laboratory","term":{"118":5,"119":6,"120":6,"121":6,"122":6,"123":6},"category":"engg"},{"id":"MFAIMFG","name":"Computational Intelligence in Manufacturing Systems","term":{"118":7,"119":7,"120":6,"121":7,"122":6,"123":6},"tags":["with old resources"]},{"id":"LBYMF3B","name":"Computational Intelligence in Manufacturing Systems Laboratory","term":{"118":7,"119":7,"120":6,"121":7,"122":6,"123":6}},{"id":"MFFNWLD","name":"Foundry and Welding Processes","term":{"118":6,"119":6,"120":6,"121":6,"122":6,"123":6}},{"id":"LBYMF2E","name":"Foundry and Welding Processes Laboratory","term":{"118":6,"119":6,"120":6,"121":6,"122":6,"123":6}},{"id":"MRVIBEN","name":"Vibration Engineering","term":{"118":9,"119":8,"120":6,"121":6,"122":6,"123":6}},{"id":"ENGMEC3","name":"Mechanics of Deformable Bodies","term":{"118":6,"119":7,"120":7,"121":7,"122":7,"123":7},"category":"engg"},{"id":"MFDIGTL","name":"Digital Electronics Design","term":{"118":6,"119":7,"120":7,"121":7,"122":7,"123":7}},{"id":"LBYMF2F","name":"Digital Electronics Design Laboratory","term":{"118":6,"119":7,"120":7,"121":7,"122":7,"123":7}},{"id":"THSCSTN1","name":"Capstone Project for MEM Students 1","term":{"118":7,"119":7,"120":7,"121":7,"122":7,"123":7}},{"id":"MFKNMAT","name":"Kinematics","term":{"118":7,"119":7,"120":7,"121":7,"122":7,"123":7},"tags":["with old resources"]},{"id":"LBYMF3A","name":"Kinematics Laboratory","term":{"118":7,"119":7,"120":7,"121":7,"122":7,"123":7}},{"id":"MFERGOP","name":"Ergonomics in Manufacturing Engineering","term":{"118":9,"119":6,"120":7,"121":6,"122":7,"123":7}},{"id":"LBYMF3G","name":"Ergonomics in Manufacturing Engineering Laboratory","term":{"118":9,"119":6,"120":7,"121":6,"122":7,"123":7}},{"id":"ENGTREP","name":"Technopreneurship","term":{"118":8,"119":8,"120":8,"121":8,"122":8,"123":8},"category":"engg"},{"id":"MFBAOHS","name":"Basic Occupational Health and Safe","term":{"118":9,"119":9,"120":8,"121":8,"122":8,"123":8}},{"id":"MFINDLX","name":"Industrial Electronics for MEM","term":{"118":8,"119":8,"120":8,"121":8,"122":8,"123":8}},{"id":"LBYMF3E","name":"Industrial Electronics Laboratory","term":{"118":8,"119":8,"120":8,"121":8,"122":8,"123":8}},{"id":"MFCAMFG","name":"Computer - Aided Manufacture","term":{"118":9,"119":8,"120":8,"121":8,"122":8,"123":8}},{"id":"LBYMF3H","name":"Computer - Aided Manufacture Laboratory","term":{"118":9,"119":8,"120":8,"121":8,"122":8,"123":8}},{"id":"MFMCDS1","name":"Design of Machine Elements 1","term":{"118":7,"119":8,"120":8,"121":8,"122":8,"123":8},"tags":["with old resources"]},{"id":"LBYMF3C","name":"Microprocessor-based Design for Manufacturing Applications 1 Laboratory","term":{"118":7,"119":8,"120":8,"121":8,"122":8,"123":8}},{"id":"MFETHIC","name":"Engineering Ethics for MEM","term":{"118":8,"119":8,"120":8,"121":8,"122":8,"123":8}},{"id":"THSCSTN2","name":"Capstone Project for MEM Students 2","term":{"118":9,"119":9,"120":9,"121":9,"122":9,"123":10}},{"id":"MFPROMA","name":"Engineering Production Management for MEM","term":{"118":10,"119":10,"120":9,"121":9,"122":9,"123":9}},{"id":"MFMTRES","name":"Methods of Research for MEM","term":{"118":9,"119":9,"120":9,"121":9,"122":9,"123":8}},{"id":"MFPRDES","name":"Product Design for MEM Students","term":{"118":8,"119":9,"120":9,"121":9,"122":9,"123":9}},{"id":"LBYMF3D","name":"Product Design for MEM Students Laboratory","term":{"118":8,"119":9,"120":9,"121":9,"122":9,"123":9}},{"id":"MFMCDS2","name":"Design of Machine Elements 2","term":{"118":8,"119":9,"120":9,"121":9,"122":9,"123":9}},{"id":"LBYMF3F","name":"Design of Machine Elements 2 Laboratory","term":{"118":8,"119":9,"120":9,"121":9,"122":9,"123":9}},{"id":"MFELEC1","name":"MEM Elective 1","term":{"118":7,"119":8,"120":9,"121":9,"122":9,"123":9}},{"id":"MFCNTRL","name":"Controls Engineering Fundamentals","term":{"118":9,"119":9,"120":9,"121":9,"122":9,"123":9}},{"id":"LBYMF3I","name":"Controls Engineering Fundamentals Laboratory","term":{"118":9,"119":9,"120":9,"121":9,"122":9,"123":9}},{"id":"THSMFE1","name":"MEM Thesis 1","term":{"118":10,"119":10,"120":10,"121":10,"122":10,"123":9}},{"id":"MFRBTIC","name":"Applied Robotics for MEM","term":{"118":10,"119":10,"120":10,"121":10,"122":10,"123":10}},{"id":"LBYMF4A","name":"Applied Robotics Laboratory","term":{"118":10,"119":10,"120":10,"121":10,"122":10,"123":10}},{"id":"MFTLDES","name":"Design of Jigs and Fixtures","term":{"118":10,"119":10,"120":10,"121":10,"122":10,"123":10}},{"id":"MFCIMSY","name":"Systems Theory for Computer Integrated Manufacturing","term":{"118":10,"119":10,"120":10,"121":10,"122":10,"123":10}},{"id":"LBYMF4B","name":"Computer Integrated Manufacturing  with Engineering Production Management Laboratory for MEM","term":{"118":10,"119":10,"120":10,"121":10,"122":10,"123":10}},{"id":"LBYMF4C","name":"Finite Element Modelling Laboratory","term":{"118":10,"119":10,"120":10,"121":10,"122":10,"123":10}},{"id":"MFGSEMS","name":"Field Trip and Seminar","term":{"120":10,"121":10,"122":10,"123":10}},{"id":"MFELEC2","name":"MEM Elective 2","term":{"118":8,"119":9,"120":10,"121":10,"122":10,"123":10}},{"id":"LBYMF4D","name":"Intelligent Manufacturing Systems Laboratory","term":{"118":12,"119":13,"120":10,"121":10,"122":10,"123":10}},{"id":"PRCGEM1","name":"Engineering Practicum for MEM 1","term":{"118":11,"119":11,"120":11,"121":11,"122":11,"123":12}},{"id":"PRCGEM2","name":"Engineering Practicum for MEM 2","term":{"119":12,"120":12,"121":12,"122":12,"123":13}},{"id":"MFLNMFG","name":"Lean and Sustainable Manufacturing","term":{"118":12,"119":13,"120":13,"121":13,"122":13,"123":11}},{"id":"THSMFE2","name":"MEM Thesis 2","term":{"118":12,"119":13,"120":13,"121":13,"122":13,"123":10}},{"id":"MRFLUME","name":"Fluid Mechanics for MRE Students","term":{"118":12,"119":13,"120":13,"121":13,"122":13,"123":11}},{"id":"MRPRODS","name":"Modelling Production Systems for MRE Students","term":{"118":12,"119":13,"120":13,"121":13,"122":13,"123":11}},{"id":"MFELEC3","name":"MEM Elective 3","term":{"118":10,"119":10,"120":13,"121":13,"122":13,"123":11}}],"links":[{"source":"FNDMATH","target":"CALENG1","type":"hard"},{"source":"LBYME1A","target":"LBYME1B","type":"hard"},{"source":"LBYMF1A","target":"LBYMF1B","type":"soft"},{"source":"CALENG1","target":"CALENG2","type":"hard"},{"source":"BASCHEM","target":"ENGCHEM","type":"hard"},{"source":"ENGCHEM","target":"LBYCH1A","type":"co"},{"source":"LBYMF1B","target":"MFMCPR1","type":"hard"},{"source":"MFMCPR1","target":"LBYMF1C","type":"co"},{"source":"LBYMF1B","target":"LBYMF1C","type":"soft"},{"source":"LBYEC2A","target":"LBYMF1D","type":"hard"},{"source":"LBYME1B","target":"LBYMF2B","type":"soft"},{"source":"CALENG2","target":"CALENG3","type":"hard"},{"source":"FNDSTAT","target":"ENGDATA","type":"hard"},{"source":"CALENG2","target":"ENGDATA","type":"soft"},{"source":"CALENG1","target":"MFMNGMT","type":"soft"},{"source":"CALENG1","target":"ENGPHYS","type":"soft"},{"source":"BASPHYS","target":"ENGPHYS","type":"hard"},{"source":"ENGPHYS","target":"LBYPH1A","type":"co"},{"source":"MFMCPR1","target":"MFMCPR2","type":"hard"},{"source":"MFMCPR2","target":"LBYMF2A","type":"co"},{"source":"LBYMF1C","target":"LBYMF2A","type":"soft"},{"source":"ENGPHYS","target":"ENGMEC1","type":"hard"},{"source":"CALENG2","target":"ENGMEC1","type":"soft"},{"source":"ENGPHYS","target":"BASELCI","type":"hard"},{"source":"BASELCI","target":"LBYEC2L","type":"co"},{"source":"ENGPHYS","target":"MFTHSCI","type":"hard"},{"source":"CALENG1","target":"MFTHSCI","type":"soft"},{"source":"ENGCHEM","target":"MFMTENG","type":"soft"},{"source":"MFMTENG","target":"LBYMF2D","type":"co"},{"source":"CALENG2","target":"MFADMAT","type":"soft"},{"source":"LBYEC2A","target":"LBYEC3B","type":"hard"},{"source":"ENGDATA","target":"LBYEC3B","type":"soft"},{"source":"CALENG1","target":"ECNOMIC","type":"soft"},{"source":"ENGMEC1","target":"ENGMEC2","type":"soft"},{"source":"BASELCI","target":"MFANLOG","type":"hard"},{"source":"LBYEC2L","target":"LBYMF2C","type":"hard"},{"source":"MFANLOG","target":"LBYMF2C","type":"soft"},{"source":"LBYEC3B","target":"MFAIMFG","type":"soft"},{"source":"MFAIMFG","target":"LBYMF3B","type":"co"},{"source":"MFMCPR1","target":"MFFNWLD","type":"soft"},{"source":"MFMTENG","target":"MFFNWLD","type":"soft"},{"source":"MFFNWLD","target":"LBYMF2E","type":"co"},{"source":"LBYMF2A","target":"LBYMF2E","type":"soft"},{"source":"CALENG3","target":"MRVIBEN","type":"soft"},{"source":"ENGMEC1","target":"ENGMEC3","type":"hard"},{"source":"MFANLOG","target":"MFDIGTL","type":"soft"},{"source":"MFDIGTL","target":"LBYMF2F","type":"co"},{"source":"LBYMF2C","target":"LBYMF2F","type":"co"},{"source":"GEPCOMM","target":"THSCSTN1","type":"hard"},{"source":"MFCAENG","target":"THSCSTN1","type":"soft"},{"source":"ENGMEC2","target":"MFKNMAT","type":"soft"},{"source":"MFKNMAT","target":"LBYMF3A","type":"co"},{"source":"LBYMF2B","target":"LBYMF3A","type":"soft"},{"source":"MFMCPR2","target":"MFERGOP","type":"soft"},{"source":"MFERGOP","target":"LBYMF3G","type":"co"},{"source":"ECNOMIC","target":"ENGTREP","type":"soft"},{"source":"MFERGOP","target":"MFBAOHS","type":"soft"},{"source":"MFDIGTL","target":"MFINDLX","type":"soft"},{"source":"MFINDLX","target":"LBYMF3E","type":"co"},{"source":"LBYMF2F","target":"LBYMF3E","type":"soft"},{"source":"MFMCPR2","target":"MFCAMFG","type":"soft"},{"source":"MFCAMFG","target":"LBYMF3H","type":"co"},{"source":"LBYMF2A","target":"LBYMF3H","type":"soft"},{"source":"ENGMEC3","target":"MFMCDS1","type":"soft"},{"source":"MFDIGTL","target":"LBYMF3C","type":"soft"},{"source":"LBYMF2F","target":"LBYMF3C","type":"soft"},{"source":"THSCSTN1","target":"THSCSTN2","type":"hard"},{"source":"MFMNGMT","target":"MFPROMA","type":"soft"},{"source":"GEPCOMM","target":"MFMTRES","type":"hard"},{"source":"MFMCDS1","target":"MFPRDES","type":"soft"},{"source":"LBYMF3A","target":"LBYMF3D","type":"soft"},{"source":"MFPRDES","target":"LBYMF3D","type":"co"},{"source":"MFMCDS1","target":"MFMCDS2","type":"hard"},{"source":"MFMCDS2","target":"LBYMF3F","type":"co"},{"source":"MFDIGTL","target":"MFELEC1","type":"soft"},{"source":"CALENG3","target":"MFCNTRL","type":"soft"},{"source":"MFDIGTL","target":"MFCNTRL","type":"soft"},{"source":"MFCNTRL","target":"LBYMF3I","type":"co"},{"source":"LBYMF3C","target":"LBYMF3I","type":"soft"},{"source":"MFMTRES","target":"THSMFE1","type":"soft"},{"source":"MFADMAT","target":"MFRBTIC","type":"soft"},{"source":"MFCAENG","target":"MFRBTIC","type":"soft"},{"source":"MFRBTIC","target":"LBYMF4A","type":"co"},{"source":"MFFNWLD","target":"MFTLDES","type":""},{"source":"MFCAENG","target":"MFCIMSY","type":"soft"},{"source":"MFPROMA","target":"LBYMF4B","type":"co"},{"source":"MFCIMSY","target":"LBYMF4B","type":"co"},{"source":"ENGMEC3","target":"LBYMF4C","type":"soft"},{"source":"MFADMAT","target":"LBYMF4C","type":"soft"},{"source":"LBYMF3A","target":"LBYMF4C","type":"soft"},{"source":"MFELEC1","target":"MFELEC2","type":"hard"},{"source":"LBYMF3C","target":"LBYMF4D","type":"hard"},{"source":"MFRBTIC","target":"PRCGEM1","type":"hard"},{"source":"MFCIMSY","target":"PRCGEM1","type":"hard"},{"source":"MFPROMA","target":"PRCGEM1","type":"hard"},{"source":"THSCSTN2","target":"PRCGEM1","type":"hard"},{"source":"PRCGEM1","target":"PRCGEM2","type":"hard"},{"source":"ENGCHEM","target":"MFLNMFG","type":"hard"},{"source":"MFPROMA","target":"MFLNMFG","type":"soft"},{"source":"THSMFE1","target":"THSMFE2","type":"hard"},{"source":"MFTHSCI","target":"MRFLUME","type":"soft"},{"source":"MFPROMA","target":"MRPRODS","type":"soft"},{"source":"MFELEC2","target":"MFELEC3","type":"hard"}]}')},5547:function(t,e,n){n.d(e,{x:function(){return i}});var r=n(6540),o=n(6462);function i(t){let{id:e,onSubmit:n}=t;return r.createElement("form",{id:e,action:"https://docs.google.com/forms/u/1/d/e/1FAIpQLSc_0Pvca7SBptGGOPC7HGWY2_OAZ-DoMT0ga640_2RuwrjPyw/formResponse",method:"POST",target:"_blank",onSubmit:n},r.createElement("input",{type:"hidden",name:"entry.1885116794",value:"undefined"!=typeof window?window.atob(window.sessionStorage.getItem("id")):null}),r.createElement("input",{type:"hidden",name:"entry.2083018028",value:(0,o.useLocation)().pathname}),r.createElement("div",{className:"flex flex-wrap flex-row justify-center gap-5 my-5"},r.createElement("div",{className:"max-w-xs"},r.createElement("label",{className:"label cursor-pointer"},r.createElement("span",{className:"label-text"},"Feedback"),r.createElement("input",{type:"radio",name:"entry.119354647",className:"radio",value:"Feedback",required:!0})),r.createElement("label",{className:"label cursor-pointer"},r.createElement("span",{className:"label-text"},"Suggestion"),r.createElement("input",{type:"radio",name:"entry.119354647",className:"radio",value:"Suggestion",required:!0})),r.createElement("label",{className:"label cursor-pointer"},r.createElement("span",{className:"label-text"},"Request"),r.createElement("input",{type:"radio",name:"entry.119354647",className:"radio",value:"Request",required:!0}))),r.createElement("textarea",{className:"textarea textarea-bordered grow ",placeholder:"Type here",name:"entry.1247762361",required:!0})),r.createElement("div",{className:"flex flex-col justify-items-center"},r.createElement("div",{className:"text-center"},r.createElement("input",{type:"submit",className:"btn",value:"Submit ↗"})),r.createElement("div",{className:"flex flex-row justify-center pt-6 text-xs opacity-55"},"Powered by ",r.createElement("img",{src:"https://www.gstatic.com/images/branding/googlelogo/svg/googlelogo_light_clr_74x24px.svg",alt:"Google",height:"16px",width:"49px",className:" text-white"})," ",r.createElement("span",{className:""},"Forms"))))}},6100:function(t,e,n){function r(t){if("string"==typeof t||"number"==typeof t)return""+t;let e="";if(Array.isArray(t))for(let n,o=0;o<t.length;o++)""!==(n=r(t[o]))&&(e+=(e&&" ")+n);else for(let n in t)t[n]&&(e+=(e&&" ")+n);return e}n.d(e,{A:function(){return r}})},8493:function(t,e,n){var r=n(6540);var o="function"==typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t==1/e)||t!=t&&e!=e},i=r.useState,a=r.useEffect,s=r.useLayoutEffect,u=r.useDebugValue;function c(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!o(t,n)}catch(t){return!0}}var l="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(t,e){return e()}:function(t,e){var n=e(),r=i({inst:{value:n,getSnapshot:e}}),o=r[0].inst,l=r[1];return s((function(){o.value=n,o.getSnapshot=e,c(o)&&l({inst:o})}),[t,n,e]),a((function(){return c(o)&&l({inst:o}),t((function(){c(o)&&l({inst:o})}))}),[t]),u(n),n};e.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:l},9242:function(t,e,n){t.exports=n(2162)},9366:function(t,e,n){n.r(e),n.d(e,{Head:function(){return v},default:function(){return y}});var r=n(4506),o=n(6540),i=n(1133),a=n(2275),s=n(4794),u=n(5501),c=n(5835),l=(n(9460),n(5547),n(3645));structuredClone(u);function d(t){let{id:e,type:n,title:r,hasLink:i,onClick:a}=t,u="",c="";switch(r??=e,n){case"hard":u="badge-warning",c="hard pre-requisite";break;case"soft":u="badge-success",c="soft pre-requesite";break;case"co":u="badge-info",c="co-requisite"}return o.createElement(l.e7,{condition:i,wrapper:t=>o.createElement(s.Link,{to:`/${e}`},t)},o.createElement("div",{className:"tooltip tooltip-bottom font-sans pl-1 "+(i?"cursor-pointer":"cursor-default"),"data-tip":`${r}\n(${c})`,onClick:a},o.createElement("div",{className:`badge badge-outline font-mono ${u}`},e," (",n.substring(0,1).toUpperCase(),")")))}s.Link;const h=structuredClone(u),f=100,p=10,m=75,g="122";function y(t){let{data:e}=t;const n=e.allDirectory.nodes.map((t=>t.name)),[u,l,d]=(0,i.ck)(h.nodes),[y,v,x]=(0,i.fM)(h.links),[w,E]=o.useState(null),[b,_]=o.useState(g);for(var N of h.links)N.id=N.source+N.target,N.requisite??=`${N.type}`,N.type="smoothstep",N.animated="soft"==N.requisite,C++;var C=0,S=new Map,F=new Set;for(var N of h.nodes){var L,A,P,B,T,k,Y,I,D,z;if(!S.has(null!==(L=null===(A=N.term)||void 0===A?void 0:A[b])&&void 0!==L?L:0))S.set(null!==(D=null===(z=N.term)||void 0===z?void 0:z[b])&&void 0!==D?D:0,[]);C=S.get(null!==(P=null===(B=N.term)||void 0===B?void 0:B[b])&&void 0!==P?P:0).length,N.width=m,N.position={x:C*(p+m),y:(null!==(T=null===(k=N.term)||void 0===k?void 0:k[b])&&void 0!==T?T:0)*f},N.data={label:N.id},S.get(null!==(Y=null===(I=N.term)||void 0===I?void 0:I[b])&&void 0!==Y?Y:0).push(N),null!=N.term&&Object.keys(N.term).forEach((t=>F.add(t)))}var G=null,H=null;return null!=w&&(G=h.links.filter((t=>t.source===w.id||t.target===w.id)),H=h.nodes.filter((t=>G.some((e=>t.id===e.source||t.id===e.target))))),o.useEffect((()=>{if(null==w)return l((t=>h.nodes)),void v((t=>h.links));l((t=>t.map(((t,e,n)=>{let r={...t,className:"",style:{}},o=H.some((e=>t.id===e.id));if(t.id===w.id)r.className="ring-4";else if(o){switch(G.find((e=>e.source==t.id||e.target==t.id)).requisite){case"hard":r.className="bg-warning";break;case"soft":r.className="bg-success";break;case"co":r.className="bg-info"}r.style={}}else r.style={opacity:.2};return r})))),v((t=>t.map(((t,e,n)=>{let r={...t,type:"smoothstep"};return G.some((e=>t.source===e.source&&t.target===e.target))?(r.style={},r.type="simplebezier",r.markerEnd={type:a.TG.Arrow,width:20,height:20}):r.style={opacity:.1},r}))))}),[_,b,w,E]),o.createElement(c.A,{enableDivider:!0,enableNavbar:!1,enableFooter:!1},o.createElement("div",{style:{height:"100vh",width:"100vw"}},o.createElement(i.Gc,{nodes:u,edges:y,onNodesChange:d,onEdgesChange:x,nodesConnectable:!1,nodesDraggable:!1,edgesFocusable:!1,edgesReconnectable:!1,onNodeClick:(t,e)=>{E((t=>null==w||w.id!=e.id?e:null))},style:{color:"black"}},o.createElement(i.VS,null),o.createElement(i.H2,null),o.createElement(i.Zk,{position:"top-left"},o.createElement("div",{className:"z-10"},o.createElement(s.Link,{to:"/#list"},o.createElement("button",{className:"btn btn-primary"},o.createElement("span",{className:"material-symbols-outlined"},"arrow_back"),o.createElement("span",{className:"hidden md:inline"},"Back to courses"))),o.createElement("br",null),o.createElement("select",{className:"select select-bordered  text-white bg-base-300 m-0 mt-4",onChange:t=>{E((t=>null)),_((e=>t.target.value))}}," ",(0,r.A)(F).map(((t,e,n)=>o.createElement("option",{value:`${t}`,selected:t===b},"ID ",t)))))),o.createElement(i.Zk,{position:"top-right",style:{color:"white"}},o.createElement("div",{className:"z-0 absolute top-32 sm:top-0 right-0 card max-sm:card-compact w-96 bg-base-200 shadow-xl opacity-95"},o.createElement("div",{className:"card-body"},null===w?o.createElement("span",null,"Select a subject to learn more."):o.createElement(M,{selectedNode:w,connectedEdges:G,subjectsThatExist:n,selectedIdNumber:b})))),o.createElement(i.Zk,{position:"bottom-center",className:"text-center text-slate-400 text-xs"},"Created by SME DLSU Academics Subcommittee.",o.createElement("br",null),"Content may not be accurate and should only be used as a visualization."))))}const v=()=>o.createElement(o.Fragment,null,o.createElement("title",null,"Flowchart | Learn With SME"),o.createElement("meta",{name:"og:title",content:"Flowchart | Learn With SME"}),o.createElement("meta",{name:"og:type",content:"website"}));function M(t){var e,n;let{selectedNode:r,connectedEdges:i,subjectsThatExist:a,selectedIdNumber:u}=t;return o.createElement(o.Fragment,null,o.createElement("h2",{className:"card-title"},o.createElement("span",{className:"text-3xl font-bold"},r.id),o.createElement("br",null),o.createElement("span",{className:"text-sm"},r.name)),o.createElement("div",{className:"text-sm font-mono "},o.createElement("div",null,"Term ",null!==(e=null===(n=r.term)||void 0===n?void 0:n[u])&&void 0!==e?e:"N/A"),o.createElement("div",null,"Requires: ",i.some((t=>r.id==t.target))?o.createElement("span",null,i.filter((t=>r.id==t.target)).map(((t,e,n)=>o.createElement(d,{id:t.source,hasLink:!1,type:t.requisite})))):o.createElement("span",{className:"italic"}," none")),o.createElement("div",null,"Unlocks: ",i.some((t=>r.id==t.source))?o.createElement("span",null,i.filter((t=>r.id==t.source)).map(((t,e,n)=>o.createElement(d,{id:t.target,hasLink:!1,type:t.requisite})))):o.createElement("span",{className:"italic"}," none"))),o.createElement("div",{className:""},a.includes(r.id)?o.createElement(s.Link,{to:`/${r.id}`},o.createElement("button",{className:"btn btn-neutral"},"Go to subject page")):o.createElement(o.Fragment,null)))}},9460:function(t,e,n){n.d(e,{U:function(){return o}});var r=n(6540);const o=t=>{let{children:e,className:n=""}=t;return r.createElement("div",{className:`max-w-5xl mx-auto mt-7 ${n}`},e)}},9888:function(t,e,n){t.exports=n(8493)}}]);